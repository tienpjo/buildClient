(this.webpackJsonpserver_client_react=this.webpackJsonpserver_client_react||[]).push([[0],{163:function(e){e.exports=JSON.parse('{"v":"4.5.7","fr":60,"ip":0,"op":120,"w":400,"h":300,"ddd":0,"assets":[{"id":"comp_50","layers":[{"ddd":0,"ind":0,"ty":4,"nm":"Shape Layer 1","ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[200,150,0]},"a":{"a":0,"k":[-5,4,0]},"s":{"a":0,"k":[67.386,67.386,100]}},"ao":1,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[208.5,208.5]},"p":{"a":0,"k":[0,0]},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse"},{"ty":"st","c":{"a":0,"k":[0.9,0.15,0.4,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":24},"lc":1,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"tr","p":{"a":0,"k":[-5.5,4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"mn":"ADBE Vector Group"},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.336],"y":[0.99]},"o":{"x":[0.333],"y":[0]},"n":["0p336_0p99_0p333_0"],"t":20,"s":[0],"e":[100]},{"t":80}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.337],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p337_1_0p333_0"],"t":0,"s":[0],"e":[100]},{"t":60}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim"}],"ip":0,"op":240,"st":0,"bm":0,"sr":1}]}],"layers":[{"ddd":0,"ind":0,"ty":0,"nm":"Shape Layer 1 Comp 1","refId":"comp_50","ks":{"o":{"a":0,"k":100},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":30,"s":[180],"e":[360]},{"t":71}]},"p":{"a":0,"k":[200,150,0]},"a":{"a":0,"k":[200,150,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"w":400,"h":300,"ip":20,"op":260,"st":20,"bm":0,"sr":1},{"ddd":0,"ind":1,"ty":0,"nm":"Shape Layer 1 Comp 1","refId":"comp_50","ks":{"o":{"a":0,"k":100},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":19,"s":[0],"e":[180]},{"t":59}]},"p":{"a":0,"k":[200,150,0]},"a":{"a":0,"k":[200,150,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"w":400,"h":300,"ip":0,"op":59,"st":0,"bm":0,"sr":1}]}')},165:function(e,t,a){e.exports=a(325)},170:function(e,t,a){},176:function(e,t,a){},247:function(e,t){},249:function(e,t){},280:function(e,t){},281:function(e,t){},323:function(e,t){},324:function(e,t,a){},325:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(66),i=a.n(c),s=(a(170),a(1)),o=a.n(s),l=a(2),u=a(3),m=a(4),d=a(6),h=a(5),p=a(7),f=a(12),v=a(46),b=a(13);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userList:[]},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.values;switch(a){case"UPDATE_USER_LIST":return g({},e,{userList:n});default:return e}};function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{deviceList:[]},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.values;switch(a){case"UPDATE_DEVICE_LIST":return O({},e,{deviceList:n});default:return e}};function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLogined:!1},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.values;switch(a){case"UPDATE_AUTH_STATE":return w({},e,{isLogined:n});default:return e}},S=Object(v.b)({user:y,device:j,auth:x}),C=function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,null,[{key:"getInstance",value:function(){return e.instance||(e.instance=Object(v.c)(S)),e.instance}}]),e}().getInstance(),T=a(33),D=a(10),L=(a(176),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).onChangePassword=function(t){e.setState({password:t.target.value})},e.onChangeEmail=function(t){e.setState({mobile:t.target.value})},e.state={mobile:"",password:""},e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.onSubmit,t=this.state,a=t.mobile,n=t.password;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(a,n)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"T\xean t\xe0i kho\u1ea3n"),r.a.createElement("input",{required:!0,type:"text",className:"form-control",placeholder:"fangiasavy",value:a,onChange:this.onChangeEmail}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"M\u1eadt kh\u1ea9u"),r.a.createElement("input",{required:!0,type:"password",className:"form-control",placeholder:"*******",value:n,onChange:this.onChangePassword})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"\u0110\u0103ng nh\u1eadp")))}}]),t}(r.a.PureComponent)),P=a(32),_=a.n(P);function I(){var e,t=JSON.parse(localStorage.getItem("user"));return t&&t.token?(e={},Object(b.a)(e,"x-access-token",t.token),Object(b.a)(e,"Authorization","Bearer "+t.token),Object(b.a)(e,"Content-Type","application/json"),e):{}}var A=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:I()},e.abrupt("return",fetch("http://103.137.185.94:3000/user/isLogined",t).then(M));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:t,password:a})},e.abrupt("return",fetch("http://103.137.185.94:3000/users/login",n).then(B).then((function(e){return localStorage.setItem("user",JSON.stringify(e)),e})));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(!1,"/logout")).then((function(e){return[null,e]})).catch((function(e){return[e]}));case 2:e.sent,C.dispatch({type:"UPDATE_AUTH_STATE",values:!1});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function M(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(e.status)switch(e.status){case 200:return C.dispatch({type:"UPDATE_AUTH_STATE",values:!0}),a;default:return C.dispatch({type:"UPDATE_AUTH_STATE",values:!1}),a}else C.dispatch({type:"UPDATE_AUTH_STATE",values:!1})}))}function B(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(e.status)switch(e.status){case 200:return C.dispatch({type:"UPDATE_AUTH_STATE",values:!0}),a;default:return C.dispatch({type:"UPDATE_AUTH_STATE",values:!1}),a}else C.dispatch({type:"UPDATE_AUTH_STATE",values:!1})}))}var J=a(162),H=a.n(J),K=a(163),R=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(H.a,{isClickToPauseDisabled:!0,height:100,width:100,options:{autoplay:!0,loop:!0,animationData:K,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}}}))}}]),t}(r.a.PureComponent),X=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={isLoading:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.props.isLogined?r.a.createElement(T.a,{to:"/"}):this.state.isLoading?r.a.createElement(R,null):r.a.createElement(L,{onSubmit:function(t,a){e.setState({isLoading:!0},Object(l.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U(t,a);case 2:n.sent,e.setState({isLoading:!1});case 4:case"end":return n.stop()}}),n)}))))}})}}]),t}(r.a.PureComponent),F=Object(f.b)((function(e){return{isLogined:e.auth.isLogined}}))(X),Q=function(e){function t(e){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).call(this,e))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",style:{marginBottom:20}},r.a.createElement("a",{className:"navbar-brand",href:"/"},"SMART KEY"),r.a.createElement("div",{className:"navbar-collapse",id:"navbarNavDropdown"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/"},"Trang ch\u1ee7 ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/device"},"Thi\u1ebft b\u1ecb")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/user"},"Ng\u01b0\u1eddi d\xf9ng")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"nav-link",onClick:function(){q()}},"\u0110\u0103ng xu\u1ea5t")))))}}]),t}(r.a.PureComponent),G=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.onChange,n=t.value,c=t.children,i=t.onSubmit;return r.a.createElement("form",{onSubmit:i,class:"form-inline",style:{marginTop:5,marginBottom:5}},r.a.createElement("input",(e={class:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search"},Object(b.a)(e,"type","text"),Object(b.a)(e,"onChange",a),Object(b.a)(e,"value",n),e)),r.a.createElement("button",{class:"btn btn-outline-success my-2 my-sm-0",type:"submit"},c))}}]),t}(r.a.PureComponent),V=a(26),Y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={page:1},a.onChangePage=a.onChangePage.bind(Object(V.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.renderList,n=t.allData,c=t.itemPerPage,i=this.state.page;return e=0===n.length?[]:n.length<=c?n:n.slice((i-1)*c,i*c),r.a.createElement("div",null,a(e,i,c),this.renderChoosePage())}},{key:"renderChoosePage",value:function(){var e=this.props,t=e.allData,a=e.itemPerPage;if(0===t.length)return W(1,!1);var n=this.state.page,c=t.length<=a?1:Math.round(t.length/a+.5);return r.a.createElement("ul",{className:"pagination justify-content-center"},n-1>0?Z(n-1,!1,this.onChangePage):null,W(n,!0,this.onChangePage),n+1<=c?z(n+1,!1,this.onChangePage):null)}},{key:"onChangePage",value:function(e){this.state.page!==e&&this.setState({page:e})}}]),t}(r.a.PureComponent);Y.defaultProps={itemPerPage:15};var $=Y,W=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=["page-link","page-item",t?"active":"disabled"];return r.a.createElement("button",{className:n.join(" "),onClick:function(){return a(e)}},e)},z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=["page-link","page-item",t?"active":"disabled"];return r.a.createElement("button",{className:n.join(" "),onClick:function(){return a(e)}},r.a.createElement("i",{class:"fas fa-chevron-right"}))},Z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=["page-link","page-item",t?"active":"disabled"];return r.a.createElement("button",{className:n.join(" "),onClick:function(){return a(e)}},r.a.createElement("i",{class:"fas fa-chevron-left"}))},ee=function(e){C.dispatch({type:"UPDATE_USER_LIST",values:e})},te=function(e){var t=C.getState().user.userList;for(var a in t)if(e._id===t[a]._id){t[a]=e;break}ee(t)},ae=(a(121),function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:I()},e.abrupt("return",fetch("http://103.137.185.94:3000/user/getAllUser",t).then(le));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),ne=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",headers:I()},e.abrupt("return",fetch("http://103.137.185.94:3000/user/getUserByPhone/p".concat(t),a).then(le));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",body:JSON.stringify({user:t}),headers:I()},e.abrupt("return",fetch("http://103.137.185.94:3000/user/add",a).then(oe));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",headers:I()},e.abrupt("return",fetch("http://103.137.185.94:3000/user/getUserById/".concat(t),a).then(le));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",body:JSON.stringify({user:t}),headers:I()},e.abrupt("return",fetch("http://103.137.185.94:3000/user/edit",a).then(le));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE",headers:I()},e.abrupt("return",fetch("http://103.137.185.94:3000/user/".concat(t._id),a).then(le));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function oe(e){return e.text().then((function(t){return e.status}))}function le(e){return e.text().then((function(e){return e&&JSON.parse(e)}))}var ue=function(e){try{return new Date(e.replace(/(\d{2})\/(\d{2})\/(\d{4})/,"$3-$2-$1")).getTime()}catch(t){return console.error(t),null}},me=function(e){var t=new Date(e),a=de(t.getDate()),n=de(t.getMonth()+1);return"".concat(a,"/").concat(n,"/").concat(t.getFullYear())},de=function(e){return e<10?"0".concat(e):e},he=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={isLoading:!0,allData:[]},a.renderList=a.renderList.bind(Object(V.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchUserList()}},{key:"render",value:function(){var e=this.props.userList;return r.a.createElement($,{allData:e,renderList:this.renderList})}},{key:"renderList",value:function(e,t,a){return r.a.createElement("div",null,r.a.createElement("table",{class:"table"},this.renderHeader(),this.renderTableBody(e,t,a)),this.renderLoadingOrEmpty(e))}},{key:"renderHeader",value:function(){return r.a.createElement("thead",{class:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"STT"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Mobile"),r.a.createElement("th",{scope:"col"},"Role"),r.a.createElement("th",{scope:"col"})))}},{key:"renderTableBody",value:function(e,t,a){var n=this.state.isLoading,c=this.props.forceLoading;return n||c?null:e.length?r.a.createElement("tbody",null,e.map((function(e,n){var c=n+1+(t-1)*a;return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,c),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.mobile),r.a.createElement("td",null,e.role),r.a.createElement("td",null,r.a.createElement(D.b,{className:"btn btn-sm btn-secondary",to:"/user/".concat(e._id)},"Chi ti\u1ebft")))}))):null}},{key:"renderLoadingOrEmpty",value:function(e){var t=this.state.isLoading,a=this.props.forceLoading;if(t||a);else if(!e.length)return r.a.createElement("div",null,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u")}},{key:"fetchUserList",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,ae();case 3:t=e.sent,a=t,this.setState({isLoading:!1}),ee(a.data);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(r.a.PureComponent),pe=Object(f.b)((function(e,t){return{userList:e.user.userList}}))(he),fe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e){a.setState({searchTerm:e.target.value})},a.onSubmit=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.searchTerm,a.setState({isLoading:!0}),e.next=5,ne(n);case 5:r=e.sent,c=r,a.setState({isLoading:!1}),ee(c.data?c.data:[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={searchTerm:"",isLoading:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.searchTerm,a=e.isLoading;return r.a.createElement("div",{style:{}},r.a.createElement("div",{className:"row"},r.a.createElement(G,{onChange:this.onChange,onSubmit:this.onSubmit,value:t},"T\xecm ki\u1ebfm"),r.a.createElement(D.b,{className:"btn btn-sm btn-primary",to:"/user/add/",style:{margin:5}},"Th\xeam")),r.a.createElement(pe,{forceLoading:a}))}}]),t}(r.a.PureComponent),ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"You're going to do something?",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};window.confirm(e)&&t()},be=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).initData=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.user,c=n.id,!t&&r){e.next=10;break}return e.next=4,ce(c);case 4:i=e.sent,s=i,console.log(s.data),a.setState({isLoading:!1,userFromState:s.data}),e.next=11;break;case 10:a.setState({isLoading:!1});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onConfirm=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.user,e.next=3,se(t);case 3:a.props.history.go(-1);case 4:case"end":return e.stop()}}),e)}))),a.onDelete=a.onDelete.bind(Object(V.a)(a)),a.state={isLoading:!0,userFromState:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.initData()}},{key:"render",value:function(){if(this.state.isLoading)return r.a.createElement(R,null);var e=this.props.user;this.state.userFromState;e||(e=this.state.userFromState);if(e){var t=e,a=t.name,n=t.mobile,c=(t.hash,t._id),i=t.role,s=t.createdDate,o=t.expiredDate,l=t.storeInfo,u=t.hashDecode,m=l.addr,d=l.ward,h=l.district,p=l.city;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(D.b,{to:"/user",className:"btn btn-link mb-2"},r.a.createElement("i",{className:"fas fa-arrow-circle-left"})," Quay v\u1ec1")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"btn-group float-right"},r.a.createElement(D.b,{to:"/user/".concat(e._id,"/edit"),className:"btn btn-warning"},"Edit"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.onDelete},"Delete")))),r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header"},"Phone: ",n),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},"_id: ",r.a.createElement("h6",{className:"text"},c)),r.a.createElement("div",{className:"col-md-6"},"M\u1eadt kh\u1ea9u: ",r.a.createElement("h6",{className:"text-danger"},u)),r.a.createElement("div",{className:"col-md-6"},"Name:"," ",r.a.createElement("h6",{className:"text-danger"},a)),r.a.createElement("div",{className:"col-md-6"},"Quy\u1ec1n truy c\u1eadp:"," ",r.a.createElement("h6",{className:"text-danger"},i)),r.a.createElement("div",{className:"col-md-6"},"Created Date:"," ",r.a.createElement("h6",{className:"text-success"},me(s))),r.a.createElement("div",{className:"col-md-6"},"Expired Date:"," ",r.a.createElement("h6",{className:"text-danger"},me(o)))),r.a.createElement("hr",null),r.a.createElement("h5",{className:"mb-4"},"Th\xf4ng tin c\u1eeda h\xe0ng"),r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item"},"T\xean: ",a),r.a.createElement("li",{className:"list-group-item"},"\u0110\u1ecba ch\u1ec9: ",m),r.a.createElement("li",{className:"list-group-item"},"Ph\u01b0\u1eddng (x\xe3): ",d),r.a.createElement("li",{className:"list-group-item"},"Qu\u1eadn (huy\u1ec7n): ",h),r.a.createElement("li",{className:"list-group-item"},"Th\xe0nh ph\u1ed1 (t\u1ec9nh): ",p))),r.a.createElement(D.b,{to:"/device/owner/".concat(c),className:"btn btn-link mb-2"},r.a.createElement("i",{className:"fas fa-mobile"})," Xem Device")),r.a.createElement("hr",null))}return r.a.createElement("div",null,"Kh\xf4ng c\xf3 th\xf4ng tin")}},{key:"onDelete",value:function(){ve("X\xe1c nh\u1eadn xo\xe1",this.onConfirm)}}]),t}(r.a.PureComponent),Ee=Object(f.b)((function(e,t){var a=e.user.userList,n=t.match.params.id;for(var r in a)if(a[r]._id===n)return{user:a[r]};return{id:n}}))(be),ge=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault(),ve("X\xe1c nh\u1eadn thay \u0111\u1ed5i th\xf4ng tin",a.onConfirm)},a.onConfirm=function(){var e=a.state,t=e._id,n=e.mobile,r=e.name,c=e.role,i=e.hash,s=e.hashDecode,u=e.expiredStr,m=e.createdStr,d=e.password,h=e.addr,p=e.ward,f=e.district,v=e.city,b=ue(u);b||alert("\u0110\u1ecbnh d\u1ea1ng ng\xe0y h\u1ebft h\u1ea1n kh\xf4ng h\u1ee3p l\u1ec7");var E=ue(m);if(E){var g={_id:t,name:r,mobile:n,role:c,hash:i,hashDecode:s,password:d,expiredDate:b,createdDate:E,storeInfo:{addr:h,ward:p,district:f,city:v}};a.setState({isLoading:!0},Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(g),e.next=3,ie(g);case 3:e.sent,te(g),a.props.history.push("/user");case 6:case"end":return e.stop()}}),e)}))))}else alert("\u0110\u1ecbnh d\u1ea1ng ng\xe0y t\u1ea1o t\xe0i kho\u1ea3n kh\xf4ng h\u1ee3p l\u1ec7")},a.onChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))};var n=a.props.user;return a.state={_id:n._id,name:n.name?n.name:"",mobile:n.mobile?n.mobile:"",password:n.password?n.password:"",role:n.role?n.role:"",expiredStr:me(n.expiredDate),createdStr:me(n.createdDate),addr:n.storeInfo.addr?n.storeInfo.addr:"",ward:n.storeInfo.ward?n.storeInfo.ward:"",district:n.storeInfo.district?n.storeInfo.district:"",city:n.storeInfo.city?n.storeInfo.city:"",isLoading:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e._id,a=e.name,n=e.mobile,c=e.password,i=e.expiredStr,s=e.createdStr,o=(e.hash,e.role),l=e.addr,u=e.ward,m=e.district,d=e.city;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(D.b,{to:"/user/".concat(t),className:"btn btn-link mb-2"},r.a.createElement("i",{className:"fas fa-arrow-circle-left"})," Quay v\u1ec1"))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"S\u1eeda th\xf4ng tin"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"\u0110i\u1ec7n tho\u1ea1i"),r.a.createElement("input",{type:"text",className:"form-control",name:"mobile",required:!0,onChange:this.onChange,value:n})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",required:!0,onChange:this.onChange,value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"Password"),r.a.createElement("input",{placeholder:"\u0110i\u1ec1n m\u1eadt kh\u1ea9u m\u1edbi g\u1ed3m 8 ch\u1eef s\u1ed1",type:"text",className:"form-control",name:"password",required:!0,onChange:this.onChange,value:c})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"Ng\xe0y h\u1ebft h\u1ea1n"),r.a.createElement("input",{type:"text",className:"form-control",name:"expiredStr",required:!0,onChange:this.onChange,value:i})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"Ng\xe0y t\u1ea1o"),r.a.createElement("input",{type:"text",className:"form-control",name:"createdStr",required:!0,onChange:this.onChange,value:s})),r.a.createElement("hr",null),r.a.createElement("h5",{className:"mb-4"},"Th\xf4ng tin th\xeam"),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-2"},r.a.createElement("div",{className:"card-title"},"Role")),r.a.createElement("div",{className:"form-group col-md-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"role",required:!0,onChange:this.onChange,value:o}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-2"},r.a.createElement("div",{className:"card-title"},"\u0110\u1ecba ch\u1ec9")),r.a.createElement("div",{className:"form-group col-md-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"addr",required:!0,onChange:this.onChange,value:l}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-2"},r.a.createElement("div",{className:"card-title"},"Ph\u01b0\u1eddng (x\xe3)")),r.a.createElement("div",{className:"form-group col-md-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"ward",required:!0,onChange:this.onChange,value:u}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-2"},r.a.createElement("div",{className:"card-title"},"Qu\u1eadn (huy\u1ec7n)")),r.a.createElement("div",{className:"form-group col-md-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"district",required:!0,onChange:this.onChange,value:m}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-2"},r.a.createElement("div",{className:"card-title"},"Th\xe0nh ph\u1ed1 (t\u1ec9nh)")),r.a.createElement("div",{className:"form-group col-md-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"city",required:!0,onChange:this.onChange,value:d}))),r.a.createElement("button",{className:"btn btn-block btn-info"},"Submit")))))}}]),t}(r.a.PureComponent);var ye=Object(f.b)((function(e,t){var a,n=e.user.userList;for(var r in n)if(n[r]._id==t.match.params.id){a=n[r];break}return{user:a}}))(ge),Ne=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.mobile,c=t.role,i=t.password,s=(t.expiredStr,t.createdStr,{name:n,mobile:r,role:c,password:i,storeInfo:{addr:t.addr,ward:t.ward,district:t.district,city:t.city}});a.setState({isLoading:!0},Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(s);case 2:200!=e.sent?alert("\u0110\xe3 t\u1ed3n t\u1ea1i user ho\u1eb7c x\u1ea3y ra l\u1ed7i! Vui l\xf2ng th\u1eed l\u1ea1i!"):a.props.history.push("/user");case 4:case"end":return e.stop()}}),e)}))))},a.onChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.state={name:"",mobile:"",role:"Role.User",password:"",expiredStr:me(Date.now()),createdStr:me(Date.now()),addr:"",ward:"",district:"",city:"",isLoading:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.mobile,n=e.role,c=e.password,i=(e.expiredStr,e.createdStr,e.addr),s=e.ward,o=e.district,l=e.city;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(D.b,{to:"/user",className:"btn btn-link mb-2"},r.a.createElement("i",{className:"fas fa-arrow-circle-left"})," Quay l\u1ea1i"))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Th\xeam ng\u01b0\u1eddi d\xf9ng"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.a.createElement("input",{type:"text",className:"form-control",name:"mobile",required:!0,onChange:this.onChange,value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"M\u1eadt kh\u1ea9u"),r.a.createElement("input",{type:"text",className:"form-control",name:"password",required:!0,onChange:this.onChange,value:c})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"Role User"),r.a.createElement("input",{type:"text",className:"form-control",name:"role",required:!0,onChange:this.onChange,value:n})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"T\xean ng\u01b0\u1eddi d\xf9ng"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",required:!0,onChange:this.onChange,value:t})),r.a.createElement("hr",null),r.a.createElement("h5",{className:"mb-4"},"Th\xf4ng tin c\u1eeda h\xe0ng"),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-2"},r.a.createElement("div",{className:"card-title"},"\u0110\u1ecba ch\u1ec9")),r.a.createElement("div",{className:"form-group col-md-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"addr",required:!0,onChange:this.onChange,value:i}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-2"},r.a.createElement("div",{className:"card-title"},"Ph\u01b0\u1eddng (x\xe3)")),r.a.createElement("div",{className:"form-group col-md-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"ward",required:!0,onChange:this.onChange,value:s}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-2"},r.a.createElement("div",{className:"card-title"},"Qu\u1eadn (huy\u1ec7n)")),r.a.createElement("div",{className:"form-group col-md-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"district",required:!0,onChange:this.onChange,value:o}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-2"},r.a.createElement("div",{className:"card-title"},"Th\xe0nh ph\u1ed1 (t\u1ec9nh)")),r.a.createElement("div",{className:"form-group col-md-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"city",required:!0,onChange:this.onChange,value:l}))),r.a.createElement("button",{className:"btn btn-block btn-info"},"Submit")))))}}]),t}(r.a.PureComponent),Oe=function(e){var t=new Date(e),a=je(t.getDate()),n=je(t.getMonth()+1);return"".concat(a,"/").concat(n,"/").concat(t.getFullYear())},je=function(e){return e<10?"0".concat(e):e},ke=function(e){var t="";return e.forEach((function(e,a){a>0&&(t+="-"),t+=e<16?"0".concat(e.toString(16).toUpperCase()):"".concat(e.toString(16).toUpperCase())})),t},we=function(e){var t="";return e.forEach((function(e,a){a>0&&(t+="."),t+=e})),t},xe=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.obj.bikeName),r.a.createElement("td",null,ke(this.props.obj.deviceId)),r.a.createElement("td",null,this.props.obj.ownerId),r.a.createElement("td",null,this.props.obj.deviceType),r.a.createElement("td",null,r.a.createElement(D.b,{className:"btn btn-sm btn-info",to:"/device/".concat(this.props.obj.ownerId)},"Chi ti\u1ebft")))}}]),t}(n.Component),Se=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:I()},e.abrupt("return",fetch("http://103.137.185.94:3000/device/DeviceList",t).then(Pe));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",body:JSON.stringify({ownerId:t}),headers:I()},e.abrupt("return",fetch("http://103.137.185.94:3000/device/getDeviceByOwner",a).then(_e));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",body:JSON.stringify({deviceId:t}),headers:I()},e.abrupt("return",fetch("http://103.137.185.94:3000/device/getDeviceListByDeviceId",a).then(_e));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:I()},e.abrupt("return",fetch("http://103.137.185.94:3000/device/edit",a).then(Pe));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE",headers:I()},e.abrupt("return",fetch("http://103.137.185.94:3000/device/".concat(t._id),a).then(Pe));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Pe(e){return e.text().then((function(e){return e&&JSON.parse(e)}))}function _e(e){return e.json().then((function(e){return e}))}var Ie=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).initData=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.device,c=n.id,!t&&r){e.next=11;break}return e.next=4,Ce(c);case 4:i=e.sent,s=i,console.log(s),a.setState({isLoading:!1}),a.setState({device:s}),e.next=12;break;case 11:a.setState({isLoading:!1});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={device:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.initData()}},{key:"tabRow",value:function(){return this.state.device.map((function(e,t){return r.a.createElement(xe,{obj:e,key:t})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(D.b,{to:"/user",className:"btn btn-link mb-2"},r.a.createElement("i",{className:"fas fa-arrow-circle-left"})," Quay v\u1ec1"))),r.a.createElement("h6",null,"Danh s\xe1ch thi\u1ebft b\u1ecb "),r.a.createElement("table",{className:"table",style:{marginTop:5}},r.a.createElement("thead",{class:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"DeviceId"),r.a.createElement("th",null,"OwnerId"),r.a.createElement("th",null,"deviceType"),r.a.createElement("th",{colSpan:"2"}))),r.a.createElement("tbody",null,this.tabRow())))}}]),t}(r.a.PureComponent),Ae=Object(f.b)((function(e,t){var a=e.device.deviceList,n=t.match.params.id;for(var r in a)if(a[r]._id===n)return{device:a[r]};return{id:n}}))(Ie),Ue=function(e){C.dispatch({type:"UPDATE_DEVICE_LIST",values:e})},qe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={isLoading:!0,allData:[]},a.renderList=a.renderList.bind(Object(V.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchDeviceList()}},{key:"render",value:function(){var e=this.props.deviceList;return r.a.createElement($,{allData:e,renderList:this.renderList})}},{key:"renderList",value:function(e,t,a){return r.a.createElement("div",null,r.a.createElement("table",{class:"table"},this.renderHeader(),this.renderTableBody(e,t,a)),this.renderLoadingOrEmpty(e))}},{key:"renderHeader",value:function(){return r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"STT"),r.a.createElement("th",null,"Device Id"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"ownerId"),r.a.createElement("th",null,"deviceType"),r.a.createElement("th",null)))}},{key:"renderTableBody",value:function(e,t,a){return this.state.isLoading?null:e.length?r.a.createElement("tbody",null,e.map((function(e,n){var c=n+1+(t-1)*a;return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,c),r.a.createElement("td",null,ke(e.deviceId)),r.a.createElement("td",null,e.bikeName),r.a.createElement("td",null,e.ownerId),r.a.createElement("td",null,e.deviceType),r.a.createElement("td",null,r.a.createElement(D.b,{className:"btn btn-sm btn-secondary",to:"/device/".concat(e._id)},"Chi ti\u1ebft")))}))):null}},{key:"renderLoadingOrEmpty",value:function(e){return this.state.isLoading?r.a.createElement("div",null,"LOADING"):e.length?void 0:r.a.createElement("div",null,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u")}},{key:"fetchDeviceList",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,Se();case 3:t=e.sent,this.setState({isLoading:!1},(function(){Ue(t.data)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(r.a.PureComponent),Me=Object(f.b)((function(e,t){return{deviceList:e.device.deviceList}}))(qe),Be=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e){a.setState({searchTerm:e.target.value})},a.onSubmit=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),n=(n=a.state.searchTerm).trim(),r=n?(r=n.split("-")).map((function(e){var t;return t=1===e.length?"0x0".concat(e):"0x".concat(e),parseInt(t)})):[],e.next=7,Te(r);case 7:c=e.sent,a.setState({isLoading:!1}),Ue(c.data?c.data:[]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={searchTerm:"",isLoading:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.searchTerm,a=e.isLoading;return r.a.createElement("div",{className:"",style:{}},r.a.createElement(G,{onChange:this.onChange,onSubmit:this.onSubmit,value:t},"T\xecm ki\u1ebfm"),r.a.createElement(Me,{forceLoading:a}))}}]),t}(r.a.PureComponent),Je=Object(f.b)((function(e,t){var a=e.device.deviceList,n=t.match.params.id;for(var r in a)if(a[r]._id===n)return{device:a[r]};return{id:n}}))(Be),He=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).initData=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.device,c=n.id,!t&&r){e.next=10;break}return e.next=4,Ce(c);case 4:i=e.sent,i,console.log(i[0]),a.setState({isLoading:!1,deviceFromState:i[0]}),e.next=11;break;case 10:a.setState({isLoading:!1});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onDelete=function(){ve("X\xe1c nh\u1eadn xo\xe1",a.onConfirm)},a.onConfirm=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.device,e.next=3,Le(t);case 3:a.props.history.go(-1);case 4:case"end":return e.stop()}}),e)}))),a.state={isLoading:!0,deviceFromState:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.initData()}},{key:"render",value:function(){if(this.state.isLoading)return r.a.createElement(R,null);var e=this.props.device;this.state.deviceFromState;e||(e=this.state.deviceFromState);if(e){var t=e,a=t.deviceId,n=t.ownerId,c=(t._id,t.pairKey),i=t.mobileSim,s=t.bikeName,o=t.smartKey,l=t.deviceType;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(D.b,{to:"/device",className:"btn btn-link mb-2"},r.a.createElement("i",{className:"fas fa-arrow-circle-left"})," Quay v\u1ec1")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"btn-group float-right"},r.a.createElement("button",{className:"btn btn-danger",onClick:this.onDelete},"Delete")))),r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header"},"Device ID: ",ke(a)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},"T\xean xe (Daily):"," ",s,r.a.createElement("h6",{className:"text-danger"})),r.a.createElement("div",{className:"col-md-6"},"M\xe3 m\u1edf kh\xf3a xe (Daily):"," ",ke(c),r.a.createElement("h6",{className:"text-danger"})),r.a.createElement("div",{className:"col-md-6"},"M\xe3 m\u1edf kh\u1ea9n c\u1ea5p:"," ",o,r.a.createElement("h6",{className:"text-success"})),r.a.createElement("div",{className:"col-md-6"},"S\u1ed1 Sim:"," ",i,r.a.createElement("h6",{className:"text-success"})),r.a.createElement("div",{className:"col-md-6"},"Lo\u1ea1i Device:"," ",function(e){var t="";return 1==e&&(t="Sim"),1==e&&(t="noSim"),t}(l),r.a.createElement("h6",{className:"text-success"}))),r.a.createElement("hr",null),r.a.createElement("h5",{className:"mb-4"},"Th\xf4ng tin th\xeam"),r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item"},"Phi\xean b\u1ea3n: Demo"),r.a.createElement("li",{className:"list-group-item"},"Active: Full")),r.a.createElement("hr",null),r.a.createElement(D.b,{to:"/user/".concat(n),className:"btn btn-link mb-2"},r.a.createElement("i",{className:"fas fa-user"})," Xem ng\u01b0\u1eddi d\xf9ng"))))}return r.a.createElement("div",null,"Kh\xf4ng c\xf3 th\xf4ng tin")}}]),t}(r.a.PureComponent),Ke=Object(f.b)((function(e,t){var a=e.device.deviceList,n=t.match.params.id;for(var r in a)if(a[r]._id===n)return{device:a[r]};return{id:n}}))(He),Re=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault(),ve("X\xe1c nh\u1eadn",a.onConfirm)},a.onConfirm=function(){var e=a.state,t=e._id,n=e.deviceIdStr,r=e.pairKey,c=e.ownerId,i=e.mobileSim,s=e.bikeName,u=e.smartKey,m=e.deviceType,d=function(e){var t=e.split("-");for(var a in t){try{t[a]=parseInt("0x".concat(t[a]))}catch(n){return!1}if(t[a]>255)return!1}return t}(n);if(d){var h={_id:t,ownerId:c,deviceId:d,pairKey:r,mobileSim:i,bikeName:s,smartKey:u,deviceType:m};a.setState({isLoading:!0},Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(h);case 2:a.props.history.push("/device");case 3:case"end":return e.stop()}}),e)}))))}else alert("\u0110\u1ecbnh d\u1ea1ng device ID kh\xf4ng h\u1ee3p l\u1ec7")},a.onChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))};var n=a.props.device,r=n._id,c=n.deviceId,i=n.owner,s=n.firstConnect,m=n.licenseTime,p=n.manufactureInfo,f=n.version;return a.state={_id:r,deviceIdStr:ke(c||[0,0,0,0,0,0,0,0]),owner:i||"",versionStr:f?we(f):"1.0.0",firstConnectStr:Oe(s||Date.now()),licenseTime:m.toString()||"365",manufactureInfo:p||"",isLoading:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e._id,a=e.deviceIdStr,n=e.pairKey,c=(e.ownerId,e.mobileSim),i=(e.bikeName,e.smartKey),s=e.deviceType;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(D.b,{to:"/user/".concat(t),className:"btn btn-link mb-2"},r.a.createElement("i",{className:"fas fa-arrow-circle-left"})," Quay v\u1ec1"))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"S\u1eeda th\xf4ng tin"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"Device ID"),r.a.createElement("input",{type:"text",className:"form-control",name:"deviceIdStr",required:!0,onChange:this.onChange,value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"Ng\xe0y k\xedch ho\u1ea1t"),r.a.createElement("input",{type:"text",className:"form-control",name:"firstConnectStr",required:!0,onChange:this.onChange,value:n})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"Th\u1eddi h\u1ea1n b\u1ea3n quy\u1ec1n"),r.a.createElement("input",{type:"text",className:"form-control",name:"licenseTime",required:!0,onChange:this.onChange,value:c})),r.a.createElement("hr",null),r.a.createElement("h5",{className:"mb-4"},"Th\xf4ng tin s\u1ea3n xu\u1ea5t"),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-2"},r.a.createElement("div",{className:"card-title"},"M\xe3 s\u1ea3n xu\u1ea5t")),r.a.createElement("div",{className:"form-group col-md-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"manufactureInfo",required:!0,onChange:this.onChange,value:i}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-2"},r.a.createElement("div",{className:"card-title"},"Phi\xean b\u1ea3n")),r.a.createElement("div",{className:"form-group col-md-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"versionStr",required:!0,onChange:this.onChange,value:s}))),r.a.createElement("button",{className:"btn btn-block btn-info"},"Submit")))))}}]),t}(r.a.PureComponent);var Xe=Object(f.b)((function(e,t){var a,n=e.device.deviceList;for(var r in n)if(n[r]._id===t.match.params.id){a=n[r];break}return{device:a}}))(Re),Fe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).confirmSubmit=function(e){e.preventDefault(),ve("X\xe1c nh\u1eadn",a.onSubmit)},a.onSubmit=function(){var e=a.state,t=e.id,n=e.licenseTime,r=(e.manufactureId,e.version),c=!1;if(t.trim()?8!==t.split("-").map((function(e){var t;t=1===e.length?"0x0".concat(e):"0x".concat(e);var a=parseInt(t);return NaN===a&&(c=!0),a})).length&&(c=!0):c=!0,c)alert("\u0110\u1ecbnh d\u1ea1ng ID kh\xf4ng h\u1ee3p l\u1ec7 (8 byte)");else{var i=!1;if(r.trim()?3!==r.split(".").map((function(e){var t;t=1===e.length?"0x0".concat(e):"0x".concat(e);var a=parseInt(t);return isNaN(a)&&(i=!0),a})).length&&(i=!0):i=!0,i)alert("\u0110\u1ecbnh d\u1ea1ng version kh\xf4ng h\u1ee3p l\u1ec7 (XX.XX.XX)");else if(isNaN(n))alert("\u0110\u1ecbnh d\u1ea1ng ng\xe0y h\u1ebft h\u1ea1n b\u1ea3n quy\u1ec1n kho\u1ea3n kh\xf4ng h\u1ee3p l\u1ec7");else{Number(n);a.setState({isLoading:!0},Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))}}},a.onChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.state={id:"",licenseTime:"730",manufactureId:"",version:"2.0.0",isLoading:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.id,a=e.licenseTime,n=e.manufactureId,c=e.version;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(D.b,{to:"/device",className:"btn btn-link mb-2"},r.a.createElement("i",{className:"fas fa-arrow-circle-left"})," Quay l\u1ea1i"))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Th\xeam thi\u1ebft b\u1ecb"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.confirmSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"Device ID"),r.a.createElement("input",{placeholder:"00-00-00-00-00-00-00-00",type:"text",className:"form-control",name:"id",required:!0,onChange:this.onChange,value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"H\u1ea1n b\u1ea3n quy\u1ec1n (ng\xe0y)"),r.a.createElement("input",{placeholder:"730",type:"text",className:"form-control",name:"licenseTime",required:!0,onChange:this.onChange,value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"Phi\xean b\u1ea3n"),r.a.createElement("input",{placeholder:"2.0.0",type:"text",className:"form-control",name:"version",required:!0,onChange:this.onChange,value:c})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"card-title"},"M\xe3 s\u1ea3n xu\u1ea5t"),r.a.createElement("input",{placeholder:"100001",type:"text",className:"form-control",name:"manufactureId",required:!0,onChange:this.onChange,value:n})),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-block btn-info"},"Submit")))))}}]),t}(r.a.PureComponent),Qe=(a(323),function(){var e={method:"GET",headers:I()};return fetch("http://103.137.185.94:3000/user/overview",e).then(Ge)});function Ge(e){return e.text().then((function(e){return e&&JSON.parse(e)}))}var Ve=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={isLoading:!0,totalDevice:0,totalUser:0,activedDevice:0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe();case 2:t=e.sent,this.setState({isLoading:!1,totalDevice:t.totalDevice,totalUser:t.totalUser});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.isLoading)return r.a.createElement(R,null);var e=this.state,t=e.totalDevice,a=e.totalUser,n=e.activedDevice;return r.a.createElement("table",{class:"table"},r.a.createElement("thead",{class:"thead-reverse"}),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"T\u1ed5ng thi\u1ebft b\u1ecb"),r.a.createElement("td",null,t)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0110\xe3 k\xedch ho\u1ea1t"),r.a.createElement("td",null,n)),r.a.createElement("tr",null,r.a.createElement("td",null,"Ch\u01b0a k\xedch ho\u1ea1t"),r.a.createElement("td",null,t-n)),r.a.createElement("tr",null,r.a.createElement("td",null,"T\u1ed5ng s\u1ed1 t\xe0i kho\u1ea3n"),r.a.createElement("td",null,a))))}}]),t}(r.a.PureComponent),Ye=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{}},r.a.createElement(T.b,{exact:!0,path:"/",component:Ve}),r.a.createElement(T.d,null,r.a.createElement(T.b,{exact:!0,path:"/user",component:fe}),r.a.createElement(T.b,{exact:!0,path:"/user/add/",component:Ne}),r.a.createElement(T.b,{exact:!0,path:"/user/:id",component:Ee}),r.a.createElement(T.b,{exact:!0,path:"/user/:id/edit",component:ye}),r.a.createElement(T.b,{exact:!0,path:"/device/owner/:id",component:Ae}),r.a.createElement(T.b,{exact:!0,path:"/device",component:Je}),r.a.createElement(T.b,{exact:!0,path:"/device/:id",component:Ke}),r.a.createElement(T.b,{exact:!0,path:"/device/add/",component:Fe}),r.a.createElement(T.b,{exact:!0,path:"/device/:id/edit",component:Xe})))}}]),t}(r.a.PureComponent),$e=function(e){function t(e){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).call(this,e))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement(T.b,{component:Q}),r.a.createElement(T.b,{component:Ye}))}}]),t}(r.a.PureComponent),We=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return"/signin"!==this.props.location.pathname?r.a.createElement(T.a,{to:"/signin"}):null}}]),t}(r.a.PureComponent),ze=Object(T.g)(We),Ze=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){this.props.isLogined;return r.a.createElement(D.a,null,r.a.createElement("div",null,r.a.createElement(T.b,{render:this.renderRedirectToSignin.bind(this)}),r.a.createElement(T.d,null,r.a.createElement(T.b,{exact:!0,path:"/signin",component:F}),r.a.createElement(T.b,{path:"/",component:$e}))))}},{key:"renderRedirectToSignin",value:function(){return this.props.isLogined?null:r.a.createElement(ze,null)}}]),t}(r.a.PureComponent),et=Object(f.b)((function(e){return{isLogined:e.auth.isLogined}}))(Ze),tt=(a(324),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={isLoading:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="SMART KEY",_.a.defaults.withCredentials=!0,e.next=4,A();case 4:e.sent,this.setState({isLoading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isLoading?r.a.createElement(R,null):r.a.createElement(f.a,{store:C},r.a.createElement(et,null))}}]),t}(r.a.PureComponent));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[165,1,2]]]);
//# sourceMappingURL=main.7d50bfd1.chunk.js.map