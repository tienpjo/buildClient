{"version":3,"sources":["bundles/dashboard/reducer/user/index.js","bundles/dashboard/reducer/device/index.js","bundles/auth/authReducer/index.js","bundles/store/rootReducer.js","bundles/store/index.js","bundles/store/createStore.js","bundles/signin/components/SignIn.js","configs/auth-header.js","bundles/auth/index.js","configs/fetcher.js","bundles/common/components/WebLoading/index.js","bundles/signin/components/SigninContainer.js","bundles/signin/index.js","bundles/dashboard/components/navbar/NavBar.js","bundles/dashboard/components/search/SearchInput.js","bundles/dashboard/components/TableWrapper/index.js","bundles/dashboard/actionCreator/user/index.js","bundles/dashboard/fetcher/user/index.js","bundles/dashboard/components/user/shareFunc.js","bundles/dashboard/components/user/UserList/TableUsers.js","bundles/dashboard/components/user/UserList/index.js","bundles/common/shareFunc/index.js","bundles/dashboard/components/user/UserDetail.js","bundles/dashboard/components/user/UserEdit.js","bundles/dashboard/components/user/UserAdd.js","bundles/dashboard/actionCreator/device/index.js","bundles/dashboard/fetcher/device/index.js","bundles/dashboard/components/device/shareFunc.js","bundles/dashboard/components/device/DeviceList/TableDevices.js","bundles/dashboard/components/device/DeviceList/index.js","bundles/dashboard/components/device/DeviceDetail.js","bundles/dashboard/components/device/DeviceEdit.js","bundles/dashboard/components/device/DeviceAdd.js","bundles/dashboard/fetcher/statistics/index.js","bundles/dashboard/components/statistics/index.js","bundles/dashboard/route/index.js","bundles/dashboard/index.js","bundles/common/routes/index.js","App.js","serviceWorker.js","index.js"],"names":["reducer","state","userList","action","type","values","deviceList","isLogined","combineReducers","user","device","auth","createStore","Store","instance","rootReducer","getInstance","Signin","onChangePassword","event","setState","password","target","value","onChangeEmail","mobile","onSubmit","this","props","className","preventDefault","required","placeholder","onChange","id","React","PureComponent","authHeader","JSON","parse","localStorage","getItem","token","checkAuthSession","a","requestOptions","method","headers","fetch","then","handleResponseLogined","login","body","stringify","handleResponse","setItem","logout","Axios","get","env","data","catch","err","store","dispatch","response","text","status","console","log","WebLoading","isClickToPauseDisabled","height","width","options","autoplay","loop","animationData","loadingAnimate","rendererSettings","preserveAspectRatio","SignInContainer","isLoading","to","SignIn","SigninContainer","connect","Component","style","marginBottom","href","onClick","children","class","marginTop","aria-label","page","onChangePage","bind","shownData","renderList","allData","itemPerPage","length","slice","renderChoosePage","NumberPage","totalPage","Math","round","PreviousPage","NextPage","newPage","defaultProps","n","active","onCick","join","updateUserList","editUser","getState","i","_id","getUserList","handleResponseFetch","getUserByPhone","phone","addUser","handleResponseFetchAddUser","getUserById","deleteUser","stringToDate","dStr","Date","replace","getTime","e","error","dateToString","d","date","toXXform","getDate","month","getMonth","getFullYear","fetchUserList","TableWrapper","renderHeader","renderTableBody","renderLoadingOrEmpty","scope","forceLoading","map","index","order","key","name","role","userFetcher","result","ownProp","searchTerm","SearchInput","margin","TableUsers","alertConfirm","message","cbConfirm","window","confirm","initData","reload","userFromState","onConfirm","history","go","onDelete","hash","createdDate","expiredDate","storeInfo","addr","ward","district","city","ownProps","users","match","params","UserEdit","expiredStr","createdStr","alert","push","now","updateDeviceList","getDeviceList","getDeviceListByDeviceId","deviceId","handleResponseFetchJson","editDevice","deleteDevice","json","deviceIdToString","str","forEach","v","toString","toUpperCase","versionToString","ver","fetchDeviceList","bikeName","ownerId","deviceType","deviceFetcher","trim","split","parseInt","TableDevices","pairKey","mobileSim","smartKey","typeDevice","devices","Edit","deviceIdStr","stringToDeviceId","owner","firstConnect","licenseTime","manufactureInfo","version","versionStr","firstConnectStr","confirmSubmit","idStr","licenceTimeStr","manufactureId","idInvalid","num","NaN","versionInValid","isNaN","Number","getOverview","totalDevice","totalUser","activedDevice","overview","exact","path","component","Statistics","UserList","UserAdd","UserDetail","DeviceList","DeviceDetail","DeviceAdd","DeviceEdit","Dashboard","NavBar","DashboardRoute","RedirectToSignin","location","pathname","RTSwithRouter","withRouter","RootRouter","render","renderRedirectToSignin","App","document","title","defaults","withCredentials","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ad653e6c.chunk.js","sourcesContent":["/**\r\n * @flow\r\n */\r\nimport { type UserInfo } from \"../../components/types\";\r\nexport type ACTION_TYPES = \"UPDATE_USER_LIST\";\r\n\r\nexport type DEAFAULT_STATE = {\r\n  userList: UserInfo[]\r\n};\r\n\r\nconst reducer = (state: DEAFAULT_STATE = { userList: [] }, action: Object) => {\r\n  let type: ACTION_TYPES = action.type;\r\n  let values = action.values;\r\n  switch (type) {\r\n    case \"UPDATE_USER_LIST\":\r\n      return {\r\n        ...state,\r\n        userList: values\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","/**\r\n * @flow\r\n */\r\nimport { type DeviceInfo } from \"../../components/types\";\r\nexport type ACTION_TYPES = \"UPDATE_DEVICE_LIST\";\r\n\r\nexport type DEAFAULT_STATE = {\r\n  deviceList: DeviceInfo[]\r\n};\r\n\r\nconst reducer = (\r\n  state: DEAFAULT_STATE = { deviceList: [] },\r\n  action: Object\r\n) => {\r\n  let type: ACTION_TYPES = action.type;\r\n  let values = action.values;\r\n  switch (type) {\r\n    case \"UPDATE_DEVICE_LIST\":\r\n      return {\r\n        ...state,\r\n        deviceList: values\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","/**\r\n * @flow\r\n */\r\nexport type ACTION_TYPES = \"UPDATE_AUTH_STATE\";\r\n\r\nexport type DEAFAULT_STATE = {\r\n  isLogined: boolean\r\n};\r\n\r\nconst reducer = (\r\n  state: DEAFAULT_STATE = { isLogined: false },\r\n  action: Object\r\n): DEAFAULT_STATE => {\r\n  let type: ACTION_TYPES = action.type;\r\n  let values = action.values;\r\n  switch (type) {\r\n    case \"UPDATE_AUTH_STATE\":\r\n      return {\r\n        ...state,\r\n        isLogined: values\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","/**\r\n * @flow\r\n */\r\nimport { combineReducers } from \"redux\";\r\nimport user, {\r\n  type DEAFAULT_STATE as STATE_USER\r\n} from \"../dashboard/reducer/user\";\r\nimport device, {\r\n  type DEAFAULT_STATE as STATE_DEVICE\r\n} from \"../dashboard/reducer/device\";\r\nimport auth, { type DEAFAULT_STATE as STATE_AUTH } from \"../auth/authReducer\";\r\n\r\n\r\nexport type STATE_TYPE = {\r\n  user: STATE_USER,\r\n  device: STATE_DEVICE,\r\n  auth: STATE_AUTH,\r\n  // missBike: STATE_MISS_BIKE,\r\n  // bike: STATE_BIKE,\r\n  // missBikeVer2: STATE_MISS_BIKE_VER2\r\n};\r\n\r\nexport default combineReducers({\r\n  // All reducers here\r\n  user,\r\n  device,\r\n  auth\r\n  // missBike,\r\n  // bike,\r\n  // missBikeVer2\r\n});\r\n","/**\r\n * @flow\r\n */\r\nimport createStore from \"./createStore\";\r\nimport { type STATE_TYPE } from \"./rootReducer\";\r\n\r\nexport type { STATE_TYPE };\r\nexport default createStore;\r\n","/**\r\n * @flow\r\n */\r\nimport { createStore } from \"redux\";\r\nimport rootReducer from \"./rootReducer\";\r\n\r\nimport { type STATE_TYPE } from \"./rootReducer\";\r\n\r\ntype TYPE_STORE = {\r\n  getState(): STATE_TYPE,\r\n  dispatch(value: { type: string, values?: any } | Function): Function\r\n};\r\n\r\nclass Store {\r\n  static instance: TYPE_STORE;\r\n  static getInstance() {\r\n    if (!Store.instance) {\r\n      Store.instance = createStore(\r\n        rootReducer\r\n        // applyMiddleware()\r\n        // thunkMiddleware // lets us dispatch() functions\r\n        // loggerMiddleware // neat middleware that logs actions\r\n      );\r\n    }\r\n    return Store.instance;\r\n  }\r\n}\r\nexport default Store.getInstance();\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport \"./Signin.css\";\r\n\r\ntype Props = { onSubmit: Function };\r\ntype States = { mobile: string, password: string };\r\n\r\nclass Signin extends React.PureComponent<Props, States> {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      mobile: \"\",\r\n      password: \"\"\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { onSubmit } = this.props;\r\n    const { mobile, password } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        <form\r\n          onSubmit={event => {\r\n            event.preventDefault();\r\n            onSubmit(mobile, password);\r\n          }}\r\n        >\r\n          <div className=\"form-group\">\r\n            <label>Tên tài khoản</label>\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"fangiasavy\"\r\n              value={mobile}\r\n              onChange={this.onChangeEmail}\r\n            />\r\n            <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n              {}\r\n            </small>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Mật khẩu</label>\r\n            <input\r\n              required\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"*******\"\r\n              value={password}\r\n              onChange={this.onChangePassword}\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Đăng nhập\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onChangePassword = (event: Object) => {\r\n    this.setState({ password: event.target.value });\r\n  };\r\n\r\n  onChangeEmail = (event: Object) => {\r\n    this.setState({ mobile: event.target.value });\r\n  };\r\n}\r\n\r\nexport default Signin;\r\n","export function authHeader() {\r\n    // return authorization header with jwt token\r\n    let user = JSON.parse(localStorage.getItem('user'));\r\n    if (user && user.token) {\r\n          return {['x-access-token']: user.token,\r\n                 'Authorization':'Bearer ' +user.token,\r\n                 'Content-Type':'application/json'\r\n                 };\r\n    } else {\r\n        return {};\r\n    }\r\n}","/**\r\n * @flow\r\n */\r\nimport Axios from \"axios\";\r\nimport { SERVER_IP, to } from \"../../configs/fetcher\";\r\nimport store from \"../store\";\r\nimport { authHeader } from '../../configs/auth-header';\r\n\r\nconst checkAuthSession = async () => {\r\n  const requestOptions = {\r\n    method: 'GET',\r\n    headers: authHeader()\r\n  };\r\n  return fetch(`http://103.137.185.94:3000/user/isLogined`, requestOptions).then(handleResponseLogined);\r\n  // console.log(isLogined);\r\n  // if (isLogined) {\r\n  //   switch (isLogined) {\r\n  //     case 200:\r\n  //       // console.log(isLogined);\r\n  //       store.dispatch({ type: \"UPDATE_AUTH_STATE\", values: true });\r\n  //       return true;\r\n  //     default:\r\n  //       store.dispatch({ type: \"UPDATE_AUTH_STATE\", values: false });\r\n  //       return false;\r\n  //   }\r\n  // } else {\r\n  //   store.dispatch({ type: \"UPDATE_AUTH_STATE\", values: false });\r\n  // }\r\n};\r\n\r\n\r\nconst login = async (mobile: string, password: string) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ mobile, password })\r\n  };\r\n\r\n  //  let login =  fetch(`http://103.137.185.94:3000/users/login`, requestOptions);\r\n  return fetch(`http://103.137.185.94:3000/users/login`, requestOptions)\r\n    .then(handleResponse)\r\n    .then(user => {\r\n      // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      // console.log(user);\r\n      return user;\r\n    });\r\n\r\n};\r\n\r\nconst logout = async () => {\r\n  let logout = await to(Axios.get(`${SERVER_IP}/logout`));\r\n  store.dispatch({ type: \"UPDATE_AUTH_STATE\", values: false });\r\n};\r\nfunction handleResponseLogined(response) {\r\n  return response.text().then(text => {\r\n    const data = text && JSON.parse(text);\r\n    // console.log(data);\r\n      \r\n    if (response.status) {\r\n      // login = login[1];\r\n      switch (response.status) {\r\n        case 200:\r\n          console.log(response.status);\r\n          store.dispatch({ type: \"UPDATE_AUTH_STATE\", values: true });\r\n          return data;\r\n\r\n        default:\r\n          store.dispatch({ type: \"UPDATE_AUTH_STATE\", values: false });\r\n          return data;\r\n      }\r\n    } else {\r\n      store.dispatch({ type: \"UPDATE_AUTH_STATE\", values: false });\r\n    }\r\n  });\r\n}\r\n\r\n\r\nfunction handleResponse(response) {\r\n  return response.text().then(text => {\r\n    const data = text && JSON.parse(text);\r\n    // console.log(data);\r\n    // console.log(response.status);\r\n    if (response.status) {\r\n      // login = login[1];\r\n      switch (response.status) {\r\n        case 200:\r\n          store.dispatch({ type: \"UPDATE_AUTH_STATE\", values: true });\r\n          return data;\r\n\r\n        default:\r\n          store.dispatch({ type: \"UPDATE_AUTH_STATE\", values: false });\r\n          return data;\r\n      }\r\n    } else {\r\n      store.dispatch({ type: \"UPDATE_AUTH_STATE\", values: false });\r\n    }\r\n  });\r\n}\r\n\r\nexport { checkAuthSession, login, logout };\r\n","/**\r\n * @flow\r\n */\r\n\r\nconst env = process.env.NODE_ENV;\r\nexport const SERVER_IP =\r\n  env === \"http://103.137.185.94:3000\";//\"production\" ?  : \"http://localhost:3000\";\r\n\r\n/**\r\n *\r\n * Execute a promise with try catch\r\n */\r\nexport const to = (promise: any) => {\r\n  return promise\r\n    .then(data => {\r\n      return [null, data];\r\n    })\r\n    .catch(err => [err]);\r\n};\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport Lottie from \"react-lottie\";\r\n\r\nimport loadingAnimate from \"./material_loader.json\";\r\n\r\nclass WebLoading extends React.PureComponent<{}> {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Lottie\r\n          isClickToPauseDisabled={true}\r\n          height={100}\r\n          width={100}\r\n          options={{\r\n            autoplay: true,\r\n            loop: true,\r\n            animationData: loadingAnimate,\r\n            rendererSettings: {\r\n              preserveAspectRatio: \"xMidYMid slice\"\r\n            }\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WebLoading;\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport SignIn from \"./SignIn\";\r\nimport { login } from \"../../auth/index\";\r\nimport WebLoading from \"../../common/components/WebLoading\";\r\nimport { type STATE_TYPE } from \"../../store/rootReducer\";\r\n\r\ntype States = { isLoading: boolean };\r\ntype Props = {\r\n  isLogined: boolean\r\n};\r\n\r\nclass SignInContainer extends React.PureComponent<Props, States> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { isLoading: false };\r\n  }\r\n\r\n  render() {\r\n    const { isLogined } = this.props;\r\n    // Force to redirect Dashboard if logined\r\n    if (isLogined) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n    // Not login yet\r\n    else {\r\n      const { isLoading } = this.state;\r\n      if (isLoading) {\r\n        return <WebLoading />;\r\n      } else {\r\n        return (\r\n          <SignIn\r\n            onSubmit={(mobile, password) => {\r\n              this.setState({ isLoading: true }, async () => {\r\n                let promise = await login(mobile, password);\r\n                this.setState({ isLoading: false });\r\n              });\r\n            }}\r\n          />\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProp = (state: STATE_TYPE) => {\r\n  return {\r\n    isLogined: state.auth.isLogined\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProp)(SignInContainer);\r\n","/**\r\n * @flow\r\n */\r\nimport SigninContainer from \"./components/SigninContainer\";\r\n\r\nexport default SigninContainer;\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { logout } from \"../../../auth\";\r\n\r\ntype Props = {};\r\ntype States = {};\r\n\r\nclass Component extends React.PureComponent<Props, States> {\r\n  constructor(props: any) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <nav\r\n        className=\"navbar navbar-expand-lg navbar-light bg-light\"\r\n        style={{ marginBottom: 20 }}\r\n      >\r\n        <a className=\"navbar-brand\" href=\"/\">\r\n          SMART KEY\r\n        </a>\r\n        <div className=\"navbar-collapse\" id=\"navbarNavDropdown\">\r\n          <ul className=\"navbar-nav\">\r\n            <li className=\"nav-item active\">\r\n              <a className=\"nav-link\" href=\"/\">\r\n                Trang chủ <span className=\"sr-only\">(current)</span>\r\n              </a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" href=\"/device\">\r\n                Thiết bị\r\n              </a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" href=\"/user\">\r\n                Người dùng\r\n              </a>\r\n            </li>\r\n\r\n            {/* <li className=\"nav-item\">\r\n              <a className=\"nav-link\" href=\"/missbike\">\r\n                Xe thiếu\r\n              </a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" href=\"/missbikeVer2\">\r\n                Xe thiếu (Ver2)\r\n              </a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" href=\"/bike\">\r\n                Danh sách xe (Ver2)\r\n              </a>\r\n            </li> */}\r\n            <li className=\"nav-item\">\r\n              <div\r\n                className=\"nav-link\"\r\n                onClick={() => {\r\n                  logout();\r\n                }}\r\n              >\r\n                Đăng xuất\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Component;\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\n\r\ntype Props = { onSubmit: Function, onChange: Function, value: string };\r\ntype States = {};\r\n\r\nclass Component extends React.PureComponent<Props, States> {\r\n  render() {\r\n    const { onChange, value, children, onSubmit } = this.props;\r\n    return (\r\n      <form\r\n        onSubmit={onSubmit}\r\n        class=\"form-inline\"\r\n        style={{ marginTop: 5, marginBottom: 5 }}\r\n      >\r\n        <input\r\n          class=\"form-control mr-sm-2\"\r\n          type=\"search\"\r\n          placeholder=\"Search\"\r\n          aria-label=\"Search\"\r\n          type=\"text\"\r\n          onChange={onChange}\r\n          value={value}\r\n        />\r\n        <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">\r\n          {children}\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Component;\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\n\r\ntype Props = { allData: Object[], renderList: Function };\r\ntype States = { page: number, itemPerPage?: number };\r\n\r\nconst ITEM_PER_PAGE = 15;\r\n\r\nclass Component extends React.PureComponent<Props, States> {\r\n  static defaultProps = { itemPerPage: ITEM_PER_PAGE };\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      page: 1\r\n    };\r\n    this.onChangePage = this.onChangePage.bind(this);\r\n  }\r\n\r\n  render() {\r\n    const { renderList, allData, itemPerPage } = this.props;\r\n    const { page } = this.state;\r\n\r\n    let shownData;\r\n    if (allData.length === 0) {\r\n      shownData = [];\r\n    } else if (allData.length <= itemPerPage) {\r\n      shownData = allData;\r\n    } else {\r\n      shownData = allData.slice((page - 1) * itemPerPage, page * itemPerPage);\r\n    }\r\n    return (\r\n      <div>\r\n        {renderList(shownData, page, itemPerPage)}\r\n        {this.renderChoosePage()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderChoosePage() {\r\n    const { allData, itemPerPage } = this.props;\r\n\r\n    // Không có dữ liệu\r\n    if (allData.length === 0) {\r\n      return NumberPage(1, false);\r\n    }\r\n    // Có dữ liệu\r\n    else {\r\n      const { page } = this.state;\r\n      const totalPage =\r\n        allData.length <= itemPerPage\r\n          ? 1\r\n          : Math.round(allData.length / itemPerPage + 0.5);\r\n      return (\r\n        <ul className=\"pagination justify-content-center\">\r\n          {page - 1 > 0\r\n            ? PreviousPage(page - 1, false, this.onChangePage)\r\n            : null}\r\n          {NumberPage(page, true, this.onChangePage)}\r\n          {page + 1 <= totalPage\r\n            ? NextPage(page + 1, false, this.onChangePage)\r\n            : null}\r\n        </ul>\r\n      );\r\n    }\r\n  }\r\n\r\n  onChangePage(newPage: number) {\r\n    const { page } = this.state;\r\n    if (page !== newPage) {\r\n      this.setState({ page: newPage });\r\n    }\r\n  }\r\n}\r\n\r\nexport default Component;\r\n\r\n/**\r\n * Render số trang\r\n * @param {*} n\r\n * @param {*} active\r\n * @param {*} onCick\r\n */\r\nconst NumberPage = (\r\n  n: number,\r\n  active: boolean,\r\n  onCick: Function = () => {}\r\n) => {\r\n  const style = [\"page-link\", \"page-item\", active ? \"active\" : \"disabled\"];\r\n\r\n  return (\r\n    <button className={style.join(\" \")} onClick={() => onCick(n)}>\r\n      {n}\r\n    </button>\r\n  );\r\n};\r\nconst NextPage = (n: number, active: boolean, onCick: Function = () => {}) => {\r\n  const style = [\"page-link\", \"page-item\", active ? \"active\" : \"disabled\"];\r\n\r\n  return (\r\n    <button className={style.join(\" \")} onClick={() => onCick(n)}>\r\n      <i class=\"fas fa-chevron-right\" />\r\n    </button>\r\n  );\r\n};\r\n\r\nconst PreviousPage = (\r\n  n: number,\r\n  active: boolean,\r\n  onCick: Function = () => {}\r\n) => {\r\n  const style = [\"page-link\", \"page-item\", active ? \"active\" : \"disabled\"];\r\n\r\n  return (\r\n    <button className={style.join(\" \")} onClick={() => onCick(n)}>\r\n      <i class=\"fas fa-chevron-left\" />\r\n    </button>\r\n  );\r\n};\r\n","/**\r\n * @flow\r\n */\r\n\r\nimport { type UserInfo } from \"../../components/types\";\r\nimport store from \"../../../store\";\r\nimport { type ACTION_TYPES } from \"../../reducer/user\";\r\n\r\nconst updateUserList = (userList: UserInfo[]) => {\r\n  store.dispatch({ type: \"UPDATE_USER_LIST\", values: userList });\r\n};\r\n\r\nconst editUser = (user: UserInfo) => {\r\n  let userList = store.getState().user.userList;\r\n  for (let i in userList) {\r\n    if (user._id === userList[i]._id) {\r\n      userList[i] = user;\r\n      break;\r\n    }\r\n  }\r\n  updateUserList(userList);\r\n};\r\n\r\nexport { updateUserList, editUser };\r\n","/**\r\n * @flow\r\n */\r\nimport { SERVER_IP, to } from \"../../../../configs/fetcher\";\r\nimport Axios from \"axios\";\r\nimport { type UserInfo } from \"../../components/types\";\r\nimport { authHeader } from '../../../../configs/auth-header';\r\nimport bcrypt from \"bcryptjs\";\r\nconst getUserList = async () => {\r\n  const requestOptions = {\r\n    method: 'GET',\r\n    headers: authHeader()\r\n  };\r\n  return fetch(`http://103.137.185.94:3000/user/getAllUser`, requestOptions).then(handleResponseFetch);\r\n};\r\nconst getUserByPhone = async (phone: string) => {\r\n  const requestOptions = {\r\n    method: 'GET',\r\n    headers: authHeader()\r\n  };\r\n  return fetch(`http://103.137.185.94:3000/user/getUserByPhone/p${phone}`, requestOptions).then(handleResponseFetch);\r\n};\r\n\r\nconst addUser = async (user: UserInfo) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    body: JSON.stringify({ user }),\r\n    headers: authHeader()\r\n  };\r\n  return fetch(`http://103.137.185.94:3000/user/add`, requestOptions).then(handleResponseFetchAddUser);\r\n};\r\n// const getUserByPhone = async (phone: string) => {\r\n//   return to(Axios.get(`${SERVER_IP}/user/phone/p${phone}`));\r\n// };\r\n// /getUserById/:id\r\nconst getUserById = async (id: string) => {\r\n  const requestOptions = {\r\n    method: 'GET',\r\n    headers: authHeader()\r\n  };\r\n  return fetch(`http://103.137.185.94:3000/user/getUserById/${id}`, requestOptions).then(handleResponseFetch);\r\n};\r\n\r\nconst editUser = async (user: UserInfo) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    body: JSON.stringify({ user }),\r\n    headers: authHeader()\r\n  };\r\n  return fetch(`http://103.137.185.94:3000/user/edit`, requestOptions).then(handleResponseFetch);\r\n};\r\nconst deleteUser = async (user: UserInfo) => {\r\n  // console.log(user._id);\r\n  const requestOptions = {\r\n    method: 'DELETE',\r\n    headers: authHeader()\r\n  };\r\n  return fetch(`http://103.137.185.94:3000/user/${user._id}`, requestOptions).then(handleResponseFetch);\r\n};\r\n\r\n// const deleteUser = async (user: UserInfo) => {\r\n//   return to(Axios.delete(`${SERVER_IP}/user/delete/${user._id}`));\r\n// };\r\n\r\n// const getUserUsage = async (id: string) => {\r\n//   return to(Axios.get(`${SERVER_IP}/user/usagedata/${id}`));\r\n// };\r\n\r\n// const deactivateYa = async (id: string) => {\r\n//   return to(Axios.post(`${SERVER_IP}/user/deactivateYa`, { userId: id }));\r\n// };\r\nfunction handleResponseFetchAddUser(response) {\r\n  return response.text().then(text => {\r\n    return response.status;\r\n  });\r\n}\r\nfunction handleResponseFetch(response) {\r\n  return response.text().then(text => {\r\n    const data = text && JSON.parse(text);\r\n    console.log(data);\r\n    return data;\r\n  });\r\n}\r\nexport {\r\n  getUserList,\r\n  getUserById,\r\n  getUserByPhone,\r\n  editUser,\r\n  deleteUser,\r\n  addUser,\r\n  // getUserUsage,\r\n  // activateYa,\r\n  // deactivateYa\r\n};\r\n","/**\r\n * @flow\r\n */\r\n/**\r\n * Chuyển string thành date dạng ms\r\n * Nếu không thành công, trả về null\r\n */\r\nconst stringToDate = (dStr: string) => {\r\n  try {\r\n    // var st = \"26/04/2013\";\r\n    // const dStr = \"26/04/2013\";\r\n    const pattern = /(\\d{2})\\/(\\d{2})\\/(\\d{4})/;\r\n    const dt = new Date(dStr.replace(pattern, \"$3-$2-$1\"));\r\n\r\n    return dt.getTime();\r\n  } catch (e) {\r\n    console.error(e);\r\n    return null;\r\n  }\r\n};\r\n\r\n/**\r\n * Chuyển date dang ms sang string\r\n * @param {*} n\r\n */\r\nconst dateToString = (n: number) => {\r\n  const d = new Date(n);\r\n\r\n  const date = toXXform(d.getDate());\r\n  const month = toXXform(d.getMonth() + 1);\r\n\r\n  return `${date}/${month}/${d.getFullYear()}`;\r\n};\r\n/**\r\n * Chuyển 1 số <100 sang dạng XX\r\n * @param {*} n\r\n */\r\nconst toXXform = (n: number) => {\r\n  return n < 10 ? `0${n}` : n;\r\n};\r\n\r\nexport { dateToString, stringToDate };\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport TableWrapper from \"../../TableWrapper\";\r\nimport { type STATE_TYPE } from \"../../../../store\";\r\nimport { updateUserList } from \"../../../actionCreator/user\";\r\nimport { type UserInfo } from \"../../types\";\r\n\r\nimport * as userFetcher from \"../../../fetcher/user\";\r\nimport { dateToString } from \"../shareFunc\";\r\n\r\ntype Props = { userList: UserInfo[], forceLoading: boolean };\r\ntype States = { isLoading: boolean, allData: UserInfo[] };\r\n\r\nclass Component extends React.PureComponent<Props, States> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = { isLoading: true, allData: [] };\r\n    this.renderList = this.renderList.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchUserList();\r\n  }\r\n\r\n  render() {\r\n    const { userList } = this.props;\r\n    return <TableWrapper allData={userList} renderList={this.renderList} />;\r\n  }\r\n\r\n  renderList(data: UserInfo[], page: number, itemPerPage: number) {\r\n    return (\r\n      <div>\r\n        <table class=\"table\">\r\n          {this.renderHeader()}\r\n          {this.renderTableBody(data, page, itemPerPage)}\r\n        </table>\r\n        {this.renderLoadingOrEmpty(data)}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderHeader() {\r\n    return (\r\n      <thead class=\"thead-dark\">\r\n        <tr>\r\n          <th scope=\"col\">STT</th>\r\n          <th scope=\"col\">Name</th>\r\n          <th scope=\"col\">Mobile</th>\r\n          <th scope=\"col\">Role</th>\r\n          <th scope=\"col\"></th>\r\n          {/* <th scope=\"col\">Ngày kích hoạt</th>\r\n          <th scope=\"col\">Honda</th>\r\n          <th scope=\"col\">Yamaha</th> */}\r\n        </tr>\r\n      </thead>\r\n    );\r\n  }\r\n\r\n  renderTableBody(data: UserInfo[], page: number, itemPerPage: number) {\r\n    const { isLoading } = this.state;\r\n    const { forceLoading } = this.props;\r\n    if (isLoading || forceLoading) {\r\n      return null;\r\n    } else if (!data.length) {\r\n      return null;\r\n    } else {\r\n      return (\r\n        <tbody>\r\n          {/* Header */}\r\n          {/* Body */}\r\n          {data.map((value, index) => {\r\n            let order = index + 1 + (page - 1) * itemPerPage;\r\n            return (\r\n              <tr key={value._id}>\r\n                <td>{order}</td>\r\n                <td>{value.name}</td>\r\n                <td>{value.mobile}</td>\r\n                <td>{value.role}</td>\r\n                {/* <td>{`${value.storeInfo.addr} ,${value.storeInfo.city}`}</td> */}\r\n                <td>\r\n                  <Link\r\n                    className=\"btn btn-sm btn-secondary\"\r\n                    to={`/user/${value._id}`}\r\n                  >\r\n                    Chi tiết\r\n                  </Link>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderLoadingOrEmpty(data: UserInfo[]) {\r\n    const { isLoading } = this.state;\r\n    const { forceLoading } = this.props;\r\n    if (isLoading || forceLoading) {\r\n    } else if (!data.length) {\r\n      return <div>Không có dữ liệu</div>;\r\n    }\r\n  }\r\n\r\n  async fetchUserList() {\r\n    this.setState({ isLoading: true });\r\n\r\n    const result = await userFetcher.getUserList();\r\n    const allData = result;\r\n\r\n    this.setState({ isLoading: false });\r\n    updateUserList(allData.data);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: STATE_TYPE, ownProp) => {\r\n  return {\r\n    userList: state.user.userList\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Component);\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchInput from \"../../search/SearchInput\";\r\nimport TableUsers from \"../UserList/TableUsers\";\r\nimport { updateUserList } from \"../../../actionCreator/user\";\r\nimport * as userFetcher from \"../../../fetcher/user\";\r\n\r\ntype Props = {};\r\ntype States = { searchTerm: string, isLoading: boolean };\r\n\r\nclass Component extends React.PureComponent<Props, States> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = { searchTerm: \"\", isLoading: false };\r\n  }\r\n\r\n  render() {\r\n    const { searchTerm, isLoading } = this.state;\r\n    return (\r\n      <div style={{}}>\r\n        <div className=\"row\">\r\n          <SearchInput\r\n            onChange={this.onChange}\r\n            onSubmit={this.onSubmit}\r\n            value={searchTerm}\r\n          >\r\n            Tìm kiếm\r\n          </SearchInput>\r\n          <Link\r\n            className=\"btn btn-sm btn-primary\"\r\n            to={\"/user/add/\"}\r\n            style={{ margin: 5 }}\r\n          >\r\n            Thêm\r\n          </Link>\r\n        </div>\r\n        <TableUsers forceLoading={isLoading} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onChange = (event: any) => {\r\n    this.setState({ searchTerm: event.target.value });\r\n  };\r\n\r\n  onSubmit = async (event: any) => {\r\n    event.preventDefault();\r\n    const { searchTerm } = this.state;\r\n    this.setState({ isLoading: true });\r\n\r\n    const result = await userFetcher.getUserByPhone(searchTerm);\r\n    const allData = result;\r\n    \r\n    this.setState({ isLoading: false });\r\n    updateUserList(allData.data ? allData.data : []);\r\n  };\r\n}\r\n\r\nexport default Component;\r\n","/**\r\n * @flow\r\n */\r\n\r\n/**\r\n * Delay ms\r\n * @param {*} ms\r\n */\r\nconst wait = async (ms: number = 0) => {\r\n  return new Promise(r => setTimeout(r, ms));\r\n};\r\n\r\nconst alertConfirm = (\r\n  message: string = \"You're going to do something?\",\r\n  cbConfirm: Function = () => {}\r\n) => {\r\n  window.confirm(message) && cbConfirm();\r\n};\r\n\r\nexport { wait, alertConfirm };\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { type STATE_TYPE } from \"../../../store\";\r\nimport { type UserInfo } from \"../types\";\r\nimport bcrypt from \"bcryptjs\";\r\nimport { dateToString } from \"./shareFunc\";\r\nimport * as userFetcher from \"../../fetcher/user\";\r\nimport { alertConfirm } from \"../../../common/shareFunc\";\r\nimport WebLoading from \"../../../common/components/WebLoading\";\r\n\r\ntype Props = { user: UserInfo, id: string };\r\ntype States = {\r\n  isLoading: boolean,\r\n  userFromState: UserInfo | null,\r\n};\r\n\r\nclass Component extends React.PureComponent<Props, States> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.onDelete = this.onDelete.bind(this);\r\n    this.state = {\r\n      isLoading: true,\r\n      userFromState: null,\r\n    };\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.initData();\r\n  }\r\n\r\n  initData = async (reload: boolean) => {\r\n    const { user,id } = this.props;\r\n    if (reload || !user) {\r\n    const result = await userFetcher.getUserById(id);\r\n    const allData = result;\r\n      this.setState({\r\n        isLoading: false,\r\n        userFromState: allData.data,\r\n      });\r\n    } else {\r\n       this.setState({ isLoading: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n     const { isLoading } = this.state;\r\n    if (isLoading) {\r\n      return <WebLoading />;\r\n    }\r\n\r\n    let { user } = this.props;\r\n    const { userFromState } = this.state;\r\n    if (!user) {\r\n      const { userFromState } = this.state;\r\n      user = userFromState;\r\n    }\r\n\r\n    if (user) {\r\n      const {\r\n        name,\r\n        mobile,\r\n        hash,\r\n        _id,\r\n        role,\r\n        createdDate,\r\n        expiredDate,\r\n        storeInfo,\r\n      } = user;\r\n      const { addr, ward, district, city } = storeInfo;\r\n      // Có thông tin -> Hiển thị\r\n      return (\r\n        <div>\r\n          {/* Thanh công cụ */}\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6\">\r\n              <Link to=\"/user\" className=\"btn btn-link mb-2\">\r\n                <i className=\"fas fa-arrow-circle-left\" /> Quay về\r\n              </Link>\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <div className=\"btn-group float-right\">\r\n                <Link to={`/user/${user._id}/edit`} className=\"btn btn-warning\">\r\n                  Edit\r\n                </Link>\r\n                <button className=\"btn btn-danger\" onClick={this.onDelete}>\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* Thông tin người dùng */}\r\n          <div className=\"card\">\r\n            {/* Số điện thoại */}\r\n            <h4 className=\"card-header\">Phone: {mobile}</h4>\r\n            <div className=\"card-body\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                  _id: <h6 className=\"text\">{_id}</h6>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n              Mật khẩu: <h6 className=\"text-danger\">{hash}</h6>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  Name:{\" \"}\r\n                  <h6 className=\"text-danger\">{name}</h6>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  Quyền truy cập:{\" \"}\r\n                  <h6 className=\"text-danger\">\r\n                    {role}\r\n                  </h6>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  Created Date:{\" \"}\r\n                  <h6 className=\"text-success\">{dateToString(createdDate)}</h6>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  Expired Date:{\" \"}\r\n                  <h6 className=\"text-danger\">{dateToString(expiredDate)}</h6>\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <h5 className=\"mb-4\">Thông tin cửa hàng</h5>\r\n              <ul className=\"list-group\">\r\n              <li className=\"list-group-item\">Tên: {name}</li>\r\n                <li className=\"list-group-item\">Địa chỉ: {addr}</li>\r\n                <li className=\"list-group-item\">Phường (xã): {ward}</li>\r\n                <li className=\"list-group-item\">Quận (huyện): {district}</li>\r\n                <li className=\"list-group-item\">Thành phố (tỉnh): {city}</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          {/* Dữ liệu sử dụng */}\r\n          <hr />\r\n        </div>\r\n      );\r\n    }\r\n    // Không có thông tin\r\n    else {\r\n      return <div>Không có thông tin</div>;\r\n    }\r\n  }\r\n\r\n  onDelete() {\r\n    alertConfirm(\"Xác nhận xoá\", this.onConfirm);\r\n  }\r\n\r\n\r\n  onConfirm = async () => {\r\n    const { user } = this.props;\r\n    await userFetcher.deleteUser(user);\r\n     this.props.history.go(-1);\r\n  };\r\n}\r\nconst mapStateToProps = (state: STATE_TYPE, ownProps: Object) => {\r\n  const users = state.user.userList;\r\n  const id = ownProps.match.params.id;\r\n\r\n  for (let index in users) {\r\n    if (users[index]._id === id) {\r\n      return { user: users[index] };\r\n    }\r\n  }\r\n  return {id: id };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Component);\r\n\r\nconst getDateStrOfWeek = (w, y) => {\r\n  var d = 1 + (w - 1) * 7; // 1st of January + 7 days for each week\r\n\r\n  return new Date(y, 0, d);\r\n};\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { STATE_TYPE } from \"../../../store\";\r\nimport { type UserInfo } from \"../types\";\r\n\r\nimport { dateToString, stringToDate } from \"./shareFunc\";\r\nimport { editUser } from \"../../actionCreator/user\";\r\nimport * as userFetcher from \"../../fetcher/user\";\r\nimport { alertConfirm } from \"../../../common/shareFunc\";\r\n\r\ntype Props = { user: UserInfo, history: any };\r\ntype States = {\r\n  _id: string,\r\n  name:string,\r\n  mobile: string,\r\n  hash:string,\r\n  expiredStr: string,\r\n  createdStr: string,\r\n  role:string,\r\n  addr:String,\r\n  ward: string,\r\n  district: string,\r\n  city: string,\r\n  isLoading: boolean\r\n};\r\n\r\nclass UserEdit extends React.PureComponent<Props, States> {\r\n  constructor(props) {\r\n    super(props);\r\n    let { user } = this.props;\r\n\r\n    this.state = {\r\n      _id: user._id,\r\n      name: user.name?user.name:\"\",\r\n      mobile: user.mobile ? user.mobile : \"\",\r\n      password: user.password?user.password:\"\",\r\n      role:user.role?user.role:\"\",\r\n      expiredStr: dateToString(user.expiredDate),\r\n      createdStr: dateToString(user.createdDate),\r\n      addr: user.storeInfo.addr ? user.storeInfo.addr : \"\",\r\n      ward: user.storeInfo.ward ? user.storeInfo.ward : \"\",\r\n      district: user.storeInfo.district ? user.storeInfo.district : \"\",\r\n      city: user.storeInfo.city ? user.storeInfo.city : \"\",\r\n      isLoading: true\r\n    };\r\n  }\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    alertConfirm(\"Xác nhận thay đổi thông tin\", this.onConfirm);\r\n  };\r\n\r\n  onConfirm = () => {\r\n    const {\r\n        _id,\r\n        mobile,\r\n        name,\r\n        role,\r\n        hash,\r\n        expiredStr,\r\n        createdStr,\r\n        password,\r\n        addr,\r\n        ward,\r\n        district,\r\n        city\r\n    } = this.state;\r\n\r\n    \r\n    const expiredDate = stringToDate(expiredStr);\r\n    if (!expiredDate) {\r\n      alert(\"Định dạng ngày hết hạn không hợp lệ\");\r\n      // let date = new Date.now();\r\n      // date.setDate(date + 720);\r\n      // console.log(createdDate + 720);\r\n      // return;\r\n    }\r\n    const createdDate = stringToDate(createdStr);\r\n    if (!createdDate) {\r\n      alert(\"Định dạng ngày tạo tài khoản không hợp lệ\");\r\n      return;\r\n    }\r\n\r\n    let user = {\r\n      _id: _id,\r\n      name:name,\r\n      mobile: mobile,\r\n      role:role,\r\n      hash:hash,\r\n      password: password,\r\n      expiredDate: expiredDate,\r\n      createdDate: createdDate,\r\n      storeInfo: {\r\n        addr:addr,\r\n        ward: ward,\r\n        district: district,\r\n        city: city\r\n      }\r\n    };\r\n    // Push to Server\r\n    this.setState({ isLoading: true }, async () => {\r\n     console.log(user);\r\n     const result = await userFetcher.editUser(user);\r\n\r\n      editUser(user);\r\n      // FIXME: UserList load lại users từ server r đẩy vào redux\r\n      this.props.history.push(\"/user\");\r\n    });\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      _id,\r\n      name,\r\n      mobile,\r\n      password,\r\n      expiredStr,\r\n      createdStr,\r\n      hash,\r\n      role,\r\n       addr,\r\n       ward,\r\n       district,\r\n       city\r\n    } = this.state;\r\n    return (\r\n      <div>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            <Link to={`/user/${_id}`} className=\"btn btn-link mb-2\">\r\n              <i className=\"fas fa-arrow-circle-left\" /> Quay về\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">Sửa thông tin</div>\r\n          <div className=\"card-body\">\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Điện thoại</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"mobile\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={mobile}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Name</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"name\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={name}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Password</div>\r\n                <input\r\n                  placeholder = \"Điền mật khẩu mới gồm 8 chữ số\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"password\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={password}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Ngày hết hạn</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"expiredStr\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={expiredStr}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Ngày tạo</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"createdStr\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={createdStr}\r\n                />\r\n              </div>\r\n              <hr />\r\n              {/*  */}\r\n              <h5 className=\"mb-4\">Thông tin thêm</h5>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-2\">\r\n                  <div className=\"card-title\">Role</div>\r\n                </div>\r\n                <div className=\"form-group col-md-10\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"role\"\r\n                    required\r\n                    onChange={this.onChange}\r\n                    value={role}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/*  */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-2\">\r\n                  <div className=\"card-title\">Địa chỉ</div>\r\n                </div>\r\n                <div className=\"form-group col-md-10\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"addr\"\r\n                    required\r\n                    onChange={this.onChange}\r\n                    value={addr}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/*  */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-2\">\r\n                  <div className=\"card-title\">Phường (xã)</div>\r\n                </div>\r\n                <div className=\"form-group col-md-10\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"ward\"\r\n                    required\r\n                    onChange={this.onChange}\r\n                    value={ward}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/*  */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-2\">\r\n                  <div className=\"card-title\">Quận (huyện)</div>\r\n                </div>\r\n                <div className=\"form-group col-md-10\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"district\"\r\n                    required\r\n                    onChange={this.onChange}\r\n                    value={district}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/*  */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-2\">\r\n                  <div className=\"card-title\">Thành phố (tỉnh)</div>\r\n                </div>\r\n                <div className=\"form-group col-md-10\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"city\"\r\n                    required\r\n                    onChange={this.onChange}\r\n                    value={city}\r\n                  />\r\n                </div>\r\n               </div>\r\n              {/*  */}\r\n              <button className=\"btn btn-block btn-info\">Submit</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state: STATE_TYPE, ownProps) {\r\n  let users = state.user.userList;\r\n  let user;\r\n  for (let index in users) {\r\n    if (users[index]._id == ownProps.match.params.id) {\r\n      user = users[index];\r\n      break;\r\n    }\r\n  }\r\n  return { user };\r\n}\r\n\r\nexport default connect(mapStateToProps)(UserEdit);\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { type UserInfo } from \"../types\";\r\n\r\nimport { dateToString, stringToDate } from \"./shareFunc\";\r\nimport * as userFetcher from \"../../fetcher/user\";\r\nimport { Alert } from \"react-bootstrap\";\r\n\r\ntype Props = { history: any };\r\ntype States = {\r\n  name:string,\r\n  mobile: string,\r\n  role: string,\r\n  password: String,\r\n  expiredStr: string,\r\n  createdStr: string,\r\n  addr: string,\r\n  ward: string,\r\n  district: string,\r\n  city: string,\r\n  isLoading: boolean\r\n};\r\n\r\nclass Component extends React.PureComponent<Props, States> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    // _id: string,\r\n    // mobile: string,\r\n    // role: string,\r\n    // hash:String,\r\n    // id:String,\r\n    this.state = {\r\n      name:\"\",\r\n      mobile: \"\",\r\n      role: \"Role.User\",\r\n      password: \"\",\r\n      expiredStr: dateToString(Date.now()),\r\n      createdStr: dateToString(Date.now()),\r\n      addr: \"\",\r\n      ward: \"\",\r\n      district: \"\",\r\n      city: \"\",\r\n      isLoading: true\r\n    };\r\n  }\r\n\r\n  onSubmit = (e: any) => {\r\n    e.preventDefault();\r\n    const {\r\n      name,\r\n      mobile,\r\n      role,\r\n      password,\r\n      expiredStr,\r\n      createdStr,\r\n      addr,\r\n      ward,\r\n      district,\r\n      city\r\n      // id\r\n    } = this.state;\r\n\r\n    let user = {\r\n      name:name,\r\n      mobile:mobile,\r\n      role:role,\r\n      password:password,\r\n      // id:id\r\n      storeInfo: {\r\n        addr: addr,\r\n        ward: ward,\r\n        district: district,\r\n        city: city\r\n      }\r\n    };\r\n    // Push to Server\r\n    this.setState({ isLoading: true }, async () => {\r\n      const result = await userFetcher.addUser(user);\r\n     if (result != 200)\r\n     {\r\n      alert(\"Đã tồn tại user hoặc xảy ra lỗi! Vui lòng thử lại!\");\r\n     }\r\n     else\r\n     {\r\n        this.props.history.push(\"/user\");\r\n      }     \r\n    });\r\n  };\r\n\r\n  onChange = (e: any) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      mobile,\r\n      role,\r\n      password,\r\n      expiredStr,\r\n      createdStr,\r\n      addr,\r\n      ward,\r\n      district,\r\n      city\r\n      // id\r\n    } = this.state;\r\n   \r\n    return (\r\n      <div>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            <Link to=\"/user\" className=\"btn btn-link mb-2\">\r\n              <i className=\"fas fa-arrow-circle-left\" /> Quay lại\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">Thêm người dùng</div>\r\n          <div className=\"card-body\">\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Số điện thoại</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"mobile\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={mobile}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Mật khẩu</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"password\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={password}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Role User</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"role\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={role}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Tên người dùng</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"name\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={name}\r\n                />\r\n              </div>\r\n              <hr />\r\n         {/*  */}\r\n         <h5 className=\"mb-4\">Thông tin cửa hàng</h5>\r\n              {/* <div className=\"form-row\">\r\n                <div className=\"form-group col-md-2\">\r\n                  <div className=\"card-title\">Tên</div>\r\n                </div>\r\n                <div className=\"form-group col-md-10\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"name\"\r\n                    required\r\n                    onChange={this.onChange}\r\n                    value={name}\r\n                  />\r\n                </div>\r\n              </div> */}\r\n              {/*  */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-2\">\r\n                  <div className=\"card-title\">Địa chỉ</div>\r\n                </div>\r\n                <div className=\"form-group col-md-10\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"addr\"\r\n                    required\r\n                    onChange={this.onChange}\r\n                    value={addr}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/*  */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-2\">\r\n                  <div className=\"card-title\">Phường (xã)</div>\r\n                </div>\r\n                <div className=\"form-group col-md-10\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"ward\"\r\n                    required\r\n                    onChange={this.onChange}\r\n                    value={ward}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/*  */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-2\">\r\n                  <div className=\"card-title\">Quận (huyện)</div>\r\n                </div>\r\n                <div className=\"form-group col-md-10\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"district\"\r\n                    required\r\n                    onChange={this.onChange}\r\n                    value={district}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/*  */}\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-2\">\r\n                  <div className=\"card-title\">Thành phố (tỉnh)</div>\r\n                </div>\r\n                <div className=\"form-group col-md-10\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"city\"\r\n                    required\r\n                    onChange={this.onChange}\r\n                    value={city}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/*  */}\r\n              <button className=\"btn btn-block btn-info\">Submit</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Component;\r\n","/**\r\n * @flow\r\n */\r\nimport { type DeviceInfo } from \"../../components/types\";\r\nimport store from \"../../../store\";\r\nimport { type ACTION_TYPES } from \"../../reducer/device\";\r\n\r\nconst updateDeviceList = (userList: DeviceInfo[]) => {\r\n  // console.log(userList);\r\n  store.dispatch({ type: \"UPDATE_DEVICE_LIST\", values: userList });\r\n};\r\n\r\nconst editDevice = (device: DeviceInfo) => {\r\n  let deviceList = store.getState().device.deviceList;\r\n\r\n  for (let i in deviceList) {\r\n    console.log(deviceList[i]);\r\n    if (device._id === device[i]._id) {\r\n      deviceList[i] = device;\r\n      break;\r\n    }\r\n  }\r\n  updateDeviceList(deviceList);\r\n};\r\n\r\nexport { updateDeviceList, editDevice };\r\n","/**\r\n * @flow\r\n */\r\nimport { SERVER_IP, to } from \"../../../../configs/fetcher\";\r\nimport Axios from \"axios\";\r\nimport { type DeviceInfo } from \"../../components/types\";\r\nimport { authHeader } from '../../../../configs/auth-header';\r\n\r\nconst getDeviceList = async () => {\r\n  const requestOptions = {\r\n    method: 'GET',\r\n    headers: authHeader()\r\n  };\r\n  return fetch(`http://103.137.185.94:3000/device/DeviceList`, requestOptions).then(handleResponseFetch);\r\n};\r\n\r\nconst getDeviceListByDeviceId = async (deviceId: number[]) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    body: JSON.stringify({ deviceId }),\r\n    headers: authHeader()\r\n  };\r\n  return fetch(`http://103.137.185.94:3000/device/getDeviceListByDeviceId`, requestOptions).then(handleResponseFetchJson);\r\n};\r\n\r\n  const editDevice = async (device: DeviceInfo) => {\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: authHeader()\r\n    };\r\n    return fetch(`http://103.137.185.94:3000/device/edit`, requestOptions).then(handleResponseFetch);\r\n  };\r\n\r\n  const addDevice = async (device: DeviceInfo) => {\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: authHeader()\r\n    };\r\n    return fetch(`http://103.137.185.94:3000/device/add`, requestOptions).then(handleResponseFetch);\r\n  };\r\n\r\n  const deleteDevice = async (device: DeviceInfo) => {\r\n    const requestOptions = {\r\n      method: 'DELETE',\r\n      headers: authHeader()\r\n    };\r\n    // return to(Axios.delete(`${SERVER_IP}/device/delete/${device._id}`));\r\n    return fetch(`http://103.137.185.94:3000/device/${device._id}`, requestOptions).then(handleResponseFetch);\r\n  };\r\n\r\n  function handleResponseFetch(response) {\r\n    return response.text().then(text => {\r\n      const data = text && JSON.parse(text);\r\n      console.log(data);\r\n      return data;\r\n    });\r\n  };\r\n\r\n  function handleResponseFetchJson(response) {\r\n    return response.json().then(data => {\r\n        return data;\r\n    });\r\n  };\r\n\r\n  // function handleDeviceListByDeviceId(response) {\r\n  //   return response.json().then(json => {\r\n  //     console.log(json);\r\n  //     return json;\r\n  //   });\r\n  // };\r\n\r\n  // function handleResponseFetch(response) {\r\n  //   return response.text().then(text => {\r\n  //       const data = text && JSON.parse(text);\r\n  //       return data;\r\n  //   });\r\n  // };\r\n\r\n  // const editDevice = async (device: DeviceInfo) => {\r\n  //   return to(Axios.post(`http://103.137.185.94:3000/device/edit`, { device: device }));\r\n  // };\r\n\r\n\r\n\r\n  export {\r\n    getDeviceList,\r\n    getDeviceListByDeviceId,\r\n    editDevice,\r\n     deleteDevice,\r\n    addDevice,\r\n    // addManyDevice\r\n  };\r\n","/**\r\n * @flow\r\n */\r\n/**\r\n * Chuyển string thành date dạng ms\r\n * Nếu không thành công, trả về null\r\n */\r\nconst stringToDate = (dStr: string) => {\r\n  try {\r\n    // var st = \"26/04/2013\";\r\n    // const dStr = \"26/04/2013\";\r\n    const pattern = /(\\d{2})\\/(\\d{2})\\/(\\d{4})/;\r\n    const dt = new Date(dStr.replace(pattern, \"$3-$2-$1\"));\r\n\r\n    return dt.getTime();\r\n  } catch (e) {\r\n    console.error(e);\r\n    return null;\r\n  }\r\n};\r\n\r\n/**\r\n * Chuyển date dang ms sang string\r\n * @param {*} n\r\n */\r\nconst dateToString = (n: number) => {\r\n  const d = new Date(n);\r\n\r\n  const date = toXXform(d.getDate());\r\n  const month = toXXform(d.getMonth() + 1);\r\n\r\n  return `${date}/${month}/${d.getFullYear()}`;\r\n};\r\n/**\r\n * Chuyển 1 số <100 sang dạng XX\r\n * @param {*} n\r\n */\r\nconst toXXform = (n: number) => {\r\n  return n < 10 ? `0${n}` : n;\r\n};\r\n\r\nconst deviceIdToString = (deviceId: number[]) => {\r\n  let str = \"\";\r\n  deviceId.forEach((v, i) => {\r\n    if (i > 0) {\r\n      str += \"-\";\r\n    }\r\n    if (v < 16) {\r\n      str += `0${v.toString(16).toUpperCase()}`;\r\n    } else {\r\n      str += `${v.toString(16).toUpperCase()}`;\r\n    }\r\n  });\r\n  return str;\r\n};\r\nconst typeDevice = (deviceType: Number) => {\r\n  let str =\"\"\r\n  if (deviceType == 1)\r\n  {\r\n    str = \"Sim\";\r\n  }\r\n  if (deviceType == 1)\r\n  {\r\n    str = \"noSim\";\r\n  }\r\n  return str;\r\n}\r\nconst stringToDeviceId = (str: string) => {\r\n  let deviceId = str.split(\"-\");\r\n  for (let i in deviceId) {\r\n    // Chỉ gồm ký tự số\r\n    try {\r\n      deviceId[i] = parseInt(`0x${deviceId[i]}`);\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n    // Kiểm tra độ lớn\r\n    if (deviceId[i] > 255) {\r\n      return false;\r\n    }\r\n  }\r\n  return deviceId;\r\n};\r\n\r\nconst convertHash = (str: string) => {\r\n  var hash = 0, i, chr;\r\n  if (this.length === 0) return hash;\r\n  for (i = 0; i < this.length; i++) {\r\n    chr   = this.charCodeAt(i);\r\n    hash  = ((hash << 5) - hash) + chr;\r\n    hash |= 0; // Convert to 32bit integer\r\n  }\r\n  return hash;\r\n};\r\n\r\nconst versionToString = (ver: number[]) => {\r\n  let str = \"\";\r\n  ver.forEach((v, i) => {\r\n    if (i > 0) {\r\n      str += \".\";\r\n    }\r\n    str += v;\r\n  });\r\n  return str;\r\n};\r\n\r\nconst stringToVersion = (str: string) => {\r\n  let version = str.split(\".\");\r\n  for (let i in version) {\r\n    // Chỉ gồm ký tự số\r\n    if (/\\d/.test(version[i])) {\r\n      version[i] = parseInt(version[i]);\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  return version;\r\n};\r\n\r\nexport {\r\n  dateToString,\r\n  stringToDate,\r\n  deviceIdToString,\r\n  stringToDeviceId,\r\n  versionToString,\r\n  stringToVersion,\r\n  typeDevice\r\n};\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport TableWrapper from \"../../TableWrapper\";\r\nimport { type STATE_TYPE } from \"../../../../store\";\r\nimport { updateDeviceList } from \"../../../actionCreator/device\";\r\nimport { type DeviceInfo } from \"../../types\";\r\nimport * as deviceFetcher from \"../../../fetcher/device\";\r\nimport { dateToString, deviceIdToString, versionToString } from \"../shareFunc\";\r\ntype Props = { deviceList: DeviceInfo[] };\r\ntype States = { isLoading: boolean, allData: DeviceInfo[] };\r\n\r\nclass Component extends React.PureComponent<Props, States> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = { isLoading: true, allData: [] };\r\n    this.renderList = this.renderList.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchDeviceList();\r\n  }\r\n\r\n  render() {\r\n    const { deviceList } = this.props;\r\n    return <TableWrapper allData={deviceList} renderList={this.renderList} />;\r\n  }\r\n\r\n  renderList(data: DeviceInfo[], page: number, itemPerPage: number) {\r\n    return (\r\n      <div>\r\n        <table class=\"table\">\r\n          {this.renderHeader()}\r\n          {this.renderTableBody(data, page, itemPerPage)}\r\n        </table>\r\n        {this.renderLoadingOrEmpty(data)}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // deviceId: number[],\r\n  // pairKey: number[],\r\n  // ownerId: string,\r\n  // mobileSim: String;\r\n  // bikeName: String;\r\n  // smartKey: String;\r\n  // deviceType: Number\r\n  renderHeader() {\r\n    return (\r\n      <thead className=\"thead-dark\">\r\n        <tr>\r\n          <th>STT</th>\r\n          <th>Device Id</th>\r\n          <th>Name</th>\r\n          <th>ownerId</th>\r\n          {/* <th>pairKey</th> */}\r\n          {/* <th>smartKey</th> */}\r\n          <th>deviceType</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n    );\r\n  }\r\n\r\n  renderTableBody(data: DeviceInfo[], page: number, itemPerPage: number) {\r\n    if (this.state.isLoading) {\r\n      return null;\r\n    } else if (!data.length) {\r\n      return null;\r\n    } else {\r\n      return (\r\n        <tbody>\r\n          {/* Header */}\r\n          {/* Body */}\r\n          {data.map((value, index) => {\r\n            let order = index + 1 + (page - 1) * itemPerPage;\r\n            return (\r\n              <tr key={value._id}>\r\n                <td>{order}</td>\r\n                <td>{deviceIdToString(value.deviceId)}</td>\r\n                <td>{value.bikeName}</td>\r\n                <td>{(value.ownerId)}</td>\r\n                <td>{(value.deviceType)}</td>\r\n                <td>\r\n                  <Link\r\n                    className=\"btn btn-sm btn-secondary\"\r\n                    to={`/device/${value._id}`}\r\n                  >\r\n                    Chi tiết\r\n                  </Link>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderLoadingOrEmpty(data: DeviceInfo[]) {\r\n    if (this.state.isLoading) {\r\n      return <div>LOADING</div>;\r\n    } else if (!data.length) {\r\n      return <div>Không có dữ liệu</div>;\r\n    }\r\n  }\r\n\r\n  async fetchDeviceList() {\r\n    this.setState({ isLoading: true });\r\n\r\n    const result = await deviceFetcher.getDeviceList();\r\n    // console.log(result.data);\r\n    this.setState({ isLoading: false }, () => {\r\n      updateDeviceList(result.data);\r\n    });\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: STATE_TYPE, ownProp) => {\r\n  return {\r\n    deviceList: state.device.deviceList\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Component);\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchInput from \"../../search/SearchInput\";\r\nimport TableDevices from \"../DeviceList/TableDevices\";\r\nimport * as deviceFetcher from \"../../../fetcher/device\";\r\nimport { updateDeviceList } from \"../../../actionCreator/device\";\r\n\r\ntype Props = {};\r\ntype States = { searchTerm: string, isLoading: boolean };\r\n\r\nclass Component extends React.PureComponent<Props, States> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = { searchTerm: \"\", isLoading: false };\r\n  }\r\n\r\n  render() {\r\n    const { searchTerm, isLoading } = this.state;\r\n    return (\r\n      <div className=\"\" style={{}}>\r\n        <SearchInput\r\n          onChange={this.onChange}\r\n          onSubmit={this.onSubmit}\r\n          value={searchTerm}\r\n        >\r\n          Tìm kiếm\r\n        </SearchInput>\r\n        <Link\r\n          className=\"btn btn-sm btn-primary\"\r\n          to={\"/device/add/\"}\r\n          style={{ margin: 5 }}\r\n        >\r\n          Thêm thiết bị\r\n        </Link>\r\n        <Link\r\n          className=\"btn btn-sm btn-primary\"\r\n          to={\"/device/addMany/\"}\r\n          style={{ margin: 5 }}\r\n        >\r\n          Thêm nhiều thiết bị\r\n        </Link>\r\n        <TableDevices forceLoading={isLoading} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onChange = (event: any) => {\r\n    this.setState({ searchTerm: event.target.value });\r\n  };\r\n\r\n  onSubmit = async (event: any) => {\r\n    event.preventDefault();\r\n    this.setState({ isLoading: true });\r\n    let { searchTerm } = this.state;\r\n    searchTerm = searchTerm.trim();\r\n\r\n    let deviceId;\r\n    if (searchTerm) {\r\n      deviceId = searchTerm.split(\"-\");\r\n      deviceId = deviceId.map(value => {\r\n        let str;\r\n        if (value.length === 1) {\r\n          str = `0x0${value}`;\r\n        } else {\r\n          str = `0x${value}`;\r\n        }\r\n        return parseInt(str);\r\n      });\r\n    } else {\r\n      deviceId = [];\r\n    }\r\n    const result = await deviceFetcher.getDeviceListByDeviceId(deviceId);\r\n    this.setState({ isLoading: false });\r\n    updateDeviceList(result.data ? result.data : []);\r\n  };\r\n}\r\n\r\nexport default Component;\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { type STATE_TYPE } from \"../../../store\";\r\nimport { type DeviceInfo } from \"../types\";\r\n\r\nimport { dateToString, deviceIdToString, versionToString,stringToDeviceId,typeDevice } from \"./shareFunc\";\r\nimport * as deviceFetcher from \"../../fetcher/device\";\r\nimport { alertConfirm } from \"../../../common/shareFunc\";\r\n\r\ntype Props = { device: DeviceInfo };\r\ntype States = {};\r\n\r\nclass Component extends React.PureComponent<Props, States> {\r\n  constructor(props: any) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { device } = this.props;\r\n    if (device) {\r\n      const {\r\n        deviceId,\r\n        ownerId,\r\n        _id,\r\n        pairKey,\r\n        mobileSim,\r\n        bikeName,\r\n        smartKey,\r\n        deviceType\r\n      } = device;\r\n\r\n      // Có thông tin -> Hiển thị\r\n      return (\r\n        <div>\r\n          {/* Thanh công cụ */}\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6\">\r\n              <Link to=\"/device\" className=\"btn btn-link mb-2\">\r\n                <i className=\"fas fa-arrow-circle-left\" /> Quay về\r\n              </Link>\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              <div className=\"btn-group float-right\">\r\n                <button className=\"btn btn-danger\" onClick={this.onDelete}>\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* Thông tin người dùng */}\r\n          <div className=\"card\">\r\n            {/* Số điện thoại */}\r\n            <h4 className=\"card-header\">\r\n              Device ID: {deviceIdToString(deviceId)}\r\n            </h4>\r\n            <div className=\"card-body\">\r\n              <div className=\"row\">\r\n              <div className=\"col-md-6\">\r\n                   Tên xe (Daily):{\" \"}{bikeName}\r\n                  <h6 className=\"text-danger\"></h6>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                   Mã mở khóa xe (Daily):{\" \"}{deviceIdToString(pairKey)}\r\n                  <h6 className=\"text-danger\"></h6>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  Mã mở khẩn cấp:{\" \"}{(smartKey)}\r\n                  <h6 className=\"text-success\"></h6>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  Số Sim:{\" \"}{'+84'(mobileSim)}\r\n                  <h6 className=\"text-success\"></h6>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  Loại Device:{\" \"}{typeDevice(deviceType)}\r\n                  <h6 className=\"text-success\"></h6>\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <h5 className=\"mb-4\">Thông tin sản xuất</h5>\r\n              <ul className=\"list-group\">\r\n                <li className=\"list-group-item\">\r\n                  Mã sản xuất: 100001\r\n                </li>\r\n                <li className=\"list-group-item\">\r\n                  Phiên bản: 1.0.0\r\n                </li>\r\n              </ul>\r\n              <hr />\r\n              <Link to={`/user/${ownerId}`} className=\"btn btn-link mb-2\">\r\n                <i className=\"fas fa-user\" /> Xem người dùng\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    // Không có thông tin\r\n    else {\r\n      return <div>Không có thông tin</div>;\r\n    }\r\n  }\r\n\r\n  onDelete = () => {\r\n    alertConfirm(\"Xác nhận xoá\", this.onConfirm);\r\n  };\r\n\r\n  onConfirm = async () => {\r\n    const { device } = this.props;\r\n     await deviceFetcher.deleteDevice(device);\r\n    this.props.history.go(-1);\r\n  };\r\n}\r\nconst mapStateToProps = (state: STATE_TYPE, ownProps: Object) => {\r\n  const devices = state.device.deviceList;\r\n  const id = ownProps.match.params.id;\r\n\r\n  for (let index in devices) {\r\n    if (devices[index]._id === id) {\r\n      return { device: devices[index] };\r\n    }\r\n  }\r\n  return {};\r\n};\r\n\r\nexport default connect(mapStateToProps)(Component);\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { type STATE_TYPE } from \"../../../store\";\r\nimport { type DeviceInfo } from \"../types\";\r\n\r\nimport { alertConfirm } from \"../../../common/shareFunc\";\r\n\r\nimport {\r\n  dateToString,\r\n  stringToDate,\r\n  versionToString,\r\n  deviceIdToString,\r\n  stringToDeviceId,\r\n  stringToVersion\r\n} from \"./shareFunc\";\r\nimport * as deviceFetcher from \"../../fetcher/device\";\r\n\r\ntype Props = { device: DeviceInfo, history: any };\r\ntype States = {\r\n  _id: string,\r\n  deviceIdStr: string,\r\n  owner: string,\r\n  versionStr: string, // Version của code\r\n  firstConnectStr: string, // thời gian kết nối lần đầu (liên quan đến thông tin bảo hành)\r\n  licenseTime: string, // Thời gian sử dụng cho tài khoản sau khi kết nối\r\n  manufactureInfo: string,\r\n  isLoading: boolean\r\n};\r\n\r\nclass Edit extends React.PureComponent<Props, States> {\r\n  constructor(props) {\r\n    super(props);\r\n    const { device } = this.props;\r\n\r\n    const {\r\n      _id,\r\n      deviceId,\r\n      owner,\r\n      firstConnect,\r\n      licenseTime,\r\n      manufactureInfo,\r\n      version\r\n    } = device;\r\n\r\n    this.state = {\r\n      _id: _id,\r\n      deviceIdStr: deviceId\r\n        ? deviceIdToString(deviceId)\r\n        : deviceIdToString([0, 0, 0, 0, 0, 0, 0, 0]),\r\n      owner: owner || \"\",\r\n      versionStr: version ? versionToString(version) : \"1.0.0\",\r\n      firstConnectStr: firstConnect\r\n        ? dateToString(firstConnect)\r\n        : dateToString(Date.now()), // thời gian kết nối lần đầu (liên quan đến thông tin bảo hành)\r\n      licenseTime: licenseTime.toString() || \"365\", // Thời gian sử dụng cho tài khoản sau khi kết nối\r\n      manufactureInfo: manufactureInfo || \"\",\r\n      isLoading: true\r\n    };\r\n  }\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    alertConfirm(\"Xác nhận\", this.onConfirm);\r\n  };\r\n    // _id: string,\r\n    // deviceId: Number[],\r\n    // pairKey: Number[],\r\n    // ownerId: string,\r\n    // mobileSim: String;\r\n    // bikeName: String;\r\n    // smartKey: String;\r\n    // deviceType: Number;\r\n  onConfirm = () => {\r\n    let {\r\n      _id,\r\n      deviceIdStr,\r\n      pairKey,\r\n      ownerId,\r\n      mobileSim,\r\n      bikeName,\r\n      smartKey,\r\n      deviceType\r\n    } = this.state;\r\n\r\n    const deviceId = stringToDeviceId(deviceIdStr);\r\n    if (!deviceId) {\r\n      alert(\"Định dạng device ID không hợp lệ\");\r\n      return;\r\n    }\r\n    // const firstConnect = stringToDate(firstConnectStr);\r\n    // if (!firstConnect) {\r\n    //   alert(\"Định dạng ngày kích hoạt không hợp lệ\");\r\n    //   return;\r\n    // }\r\n\r\n    // if (!/\\d/.test(licenseTime)) {\r\n    //   alert(\"Định dạng thời hạn bản quyền không hợp lệ\");\r\n    //   return;\r\n    // }\r\n\r\n    // const version = stringToVersion(versionStr);\r\n    // if (!version) {\r\n    //   alert(\"Phiên bản không hợp lệ\");\r\n    //   return;\r\n    // }\r\n\r\n\r\n    let device: DeviceInfo = {\r\n      _id: _id,\r\n      ownerId: ownerId,\r\n      deviceId: deviceId,\r\n      pairKey: pairKey,\r\n      mobileSim:mobileSim,\r\n      bikeName:bikeName,\r\n      smartKey:smartKey,\r\n      deviceType:deviceType\r\n    };\r\n    // Push to Server\r\n    this.setState({ isLoading: true }, async () => {\r\n      await deviceFetcher.editDevice(device);\r\n\r\n      // editUser(user);\r\n      // FIXME: DeviceList load lại devices từ server r đẩy vào redux\r\n      this.props.history.push(\"/device\");\r\n    });\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      _id,\r\n      deviceIdStr,\r\n      pairKey,\r\n      ownerId,\r\n      mobileSim,\r\n      bikeName,\r\n      smartKey,\r\n      deviceType,\r\n      \r\n    } = this.state;\r\n    return (\r\n      <div>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            <Link to={`/user/${_id}`} className=\"btn btn-link mb-2\">\r\n              <i className=\"fas fa-arrow-circle-left\" /> Quay về\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">Sửa thông tin</div>\r\n          <div className=\"card-body\">\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Device ID</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"deviceIdStr\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={deviceIdStr}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Ngày kích hoạt</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"firstConnectStr\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={pairKey}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Thời hạn bản quyền</div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"licenseTime\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={mobileSim}\r\n                />\r\n              </div>\r\n              <hr />\r\n              {/*  */}\r\n              <h5 className=\"mb-4\">Thông tin sản xuất</h5>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-2\">\r\n                  <div className=\"card-title\">Mã sản xuất</div>\r\n                </div>\r\n                <div className=\"form-group col-md-10\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"manufactureInfo\"\r\n                    required\r\n                    onChange={this.onChange}\r\n                    value={smartKey}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-2\">\r\n                  <div className=\"card-title\">Phiên bản</div>\r\n                </div>\r\n                <div className=\"form-group col-md-10\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"versionStr\"\r\n                    required\r\n                    onChange={this.onChange}\r\n                    value={deviceType}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <button className=\"btn btn-block btn-info\">Submit</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state: STATE_TYPE, ownProps) {\r\n  let devices = state.device.deviceList;\r\n  let device;\r\n  for (let index in devices) {\r\n    if (devices[index]._id === ownProps.match.params.id) {\r\n      device = devices[index];\r\n      break;\r\n    }\r\n  }\r\n  return { device };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Edit);\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { alertConfirm } from \"../../../common/shareFunc\";\r\nimport * as deviceFetcher from \"../../fetcher/device\";\r\n// _id: string,\r\n//   deviceId: Number[],\r\n//   pairKey: Number[],\r\n//   ownerId: string,\r\n//   mobileSim: String;\r\n//   bikeName: String;\r\n//   smartKey: String;\r\n//   deviceType: Number;\r\ntype Props = { history: any };\r\ntype States = {\r\n  id: string,\r\n  pairKey: string,\r\n  manufactureId: string,\r\n  version: string,\r\n\r\n  isLoading: boolean\r\n};\r\n\r\nclass Component extends React.PureComponent<Props, States> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      id: \"\",\r\n      licenseTime: \"730\",\r\n      manufactureId: \"\",\r\n      version: \"2.0.0\",\r\n\r\n      isLoading: true\r\n    };\r\n  }\r\n\r\n  confirmSubmit = e => {\r\n    e.preventDefault();\r\n    alertConfirm(\"Xác nhận\", this.onSubmit);\r\n  };\r\n\r\n  onSubmit = () => {\r\n    const {\r\n      id: idStr,\r\n      licenseTime: licenceTimeStr,\r\n      manufactureId,\r\n      version: versionStr\r\n    } = this.state;\r\n\r\n    let idInvalid = false;\r\n    let deviceId;\r\n    if (idStr.trim()) {\r\n      deviceId = idStr.split(\"-\").map(value => {\r\n        let str;\r\n        if (value.length === 1) {\r\n          str = `0x0${value}`;\r\n        } else {\r\n          str = `0x${value}`;\r\n        }\r\n        let num = parseInt(str);\r\n        if (num === NaN) {\r\n          idInvalid = true;\r\n        }\r\n        return num;\r\n      });\r\n      if (deviceId.length !== 8) {\r\n        idInvalid = true;\r\n      }\r\n    } else {\r\n      idInvalid = true;\r\n    }\r\n\r\n    if (idInvalid) {\r\n      alert(\"Định dạng ID không hợp lệ (8 byte)\");\r\n      return;\r\n    }\r\n\r\n    let versionInValid = false;\r\n    let version;\r\n    if (versionStr.trim()) {\r\n      version = versionStr.split(\".\").map(value => {\r\n        let str;\r\n        if (value.length === 1) {\r\n          str = `0x0${value}`;\r\n        } else {\r\n          str = `0x${value}`;\r\n        }\r\n        let num = parseInt(str);\r\n        if (isNaN(num)) {\r\n          versionInValid = true;\r\n        }\r\n        return num;\r\n      });\r\n      if (version.length !== 3) {\r\n        versionInValid = true;\r\n      }\r\n    } else {\r\n      versionInValid = true;\r\n    }\r\n\r\n    if (versionInValid) {\r\n      alert(\"Định dạng version không hợp lệ (XX.XX.XX)\");\r\n      return;\r\n    }\r\n\r\n    if (isNaN(licenceTimeStr)) {\r\n      alert(\"Định dạng ngày hết hạn bản quyền khoản không hợp lệ\");\r\n      return;\r\n    }\r\n    const licenseTime = Number(licenceTimeStr);\r\n\r\n    const device = {\r\n      deviceId,\r\n      licenseTime,\r\n      manufactureId,\r\n      version\r\n    };\r\n    // Push to Server\r\n    this.setState({ isLoading: true }, async () => {\r\n      // const res = await deviceFetcher.addDevice(device);\r\n      // if (res.error) {\r\n      //   alert(`Thêm không thành công: ${res.error}`);\r\n      // } else {\r\n      //   alert(`Thêm thành công`);\r\n      // }\r\n    });\r\n  };\r\n\r\n  onChange = (e: any) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { id, licenseTime, manufactureId, version } = this.state;\r\n    return (\r\n      <div>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            <Link to=\"/device\" className=\"btn btn-link mb-2\">\r\n              <i className=\"fas fa-arrow-circle-left\" /> Quay lại\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">Thêm thiết bị</div>\r\n          <div className=\"card-body\">\r\n            <form onSubmit={this.confirmSubmit}>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Device ID</div>\r\n                <input\r\n                  placeholder=\"00-00-00-00-00-00-00-00\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"id\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={id}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Hạn bản quyền (ngày)</div>\r\n                <input\r\n                  placeholder=\"730\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"licenseTime\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={licenseTime}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Phiên bản</div>\r\n                <input\r\n                  placeholder=\"2.0.0\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"version\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={version}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <div className=\"card-title\">Mã sản xuất</div>\r\n                <input\r\n                  placeholder=\"100001\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"manufactureId\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  value={manufactureId}\r\n                />\r\n              </div>\r\n              <hr />\r\n              <button className=\"btn btn-block btn-info\">Submit</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Component;\r\n","/**\r\n * @flow\r\n */\r\nimport { SERVER_IP, to } from \"../../../../configs/fetcher\";\r\nimport Axios from \"axios\";\r\nimport { authHeader } from '../../../../configs/auth-header';\r\nconst getOverview = () => {\r\n  // let user = JSON.parse(localStorage.getItem('user'));\r\n  // console.log(user.token);\r\n  const requestOptions = {\r\n    method: 'GET',\r\n    headers: authHeader()\r\n};\r\nreturn fetch(`http://103.137.185.94:3000/user/overview`,requestOptions).then(handleResponseFetch);\r\n};\r\nfunction handleResponseFetch(response) {\r\n  return response.text().then(text => {\r\n      const data = text && JSON.parse(text);\r\n      return data;\r\n  });\r\n}\r\n\r\nexport { getOverview };\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport WebLoading from \"../../../common/components/WebLoading\";\r\nimport { getOverview } from \"../../fetcher/statistics\";\r\n\r\ntype Props = {};\r\ntype States = {\r\n  isLoading: boolean,\r\n  totalDevice: number,\r\n  totalUser: number,\r\n  activedDevice: number\r\n};\r\n\r\nclass Component extends React.PureComponent<Props, States> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      totalDevice: 0,\r\n      totalUser: 0,\r\n      activedDevice: 0\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let overview = await getOverview();\r\n    this.setState({\r\n      isLoading: false,\r\n       totalDevice: overview.totalDevice,\r\n       totalUser: overview.totalUser,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    if (isLoading) {\r\n      return <WebLoading />;\r\n    }\r\n    const { totalDevice, totalUser, activedDevice } = this.state;\r\n    return (\r\n      <table class=\"table\">\r\n        <thead class=\"thead-reverse\" />\r\n        <tbody>\r\n          <tr>\r\n            <td>Tổng thiết bị</td>\r\n            <td>{totalDevice}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Đã kích hoạt</td>\r\n            <td>{activedDevice}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Chưa kích hoạt</td>\r\n            <td>{totalDevice - activedDevice}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Tổng số tài khoản</td>\r\n            <td>{totalUser}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Component;\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport UserList from \"../components/user/UserList\";\r\nimport UserDetail from \"../components/user/UserDetail\";\r\nimport UserEdit from \"../components/user/UserEdit\";\r\nimport UserAdd from \"../components/user/UserAdd\";\r\n\r\nimport DeviceList from \"../components/device/DeviceList\";\r\nimport DeviceDetail from \"../components/device/DeviceDetail\";\r\nimport DeviceEdit from \"../components/device/DeviceEdit\";\r\nimport DeviceAdd from \"../components/device/DeviceAdd\";\r\nimport DeviceAddMany from \"../components/device/DeviceAddMany\";\r\n\r\nimport Statistics from \"../components/statistics\";\r\n\r\n// import MissBike from \"../components/missBike/List\";\r\n\r\n// import BikeList from \"../components/bike/BikeList\";\r\n// import BikeEdit from \"../components/bike/BikeEdit\";\r\n\r\n// import MissBikeVer2 from \"../components/missBikeVer2/List\";\r\n\r\nclass Component extends React.PureComponent<{}, {}> {\r\n  render() {\r\n    return (\r\n      <div className=\"container\" style={{}}>\r\n        <Route exact path=\"/\" component={Statistics} />\r\n\r\n        <Switch>\r\n          <Route exact path=\"/user\" component={UserList} />\r\n          <Route exact path=\"/user/add/\" component={UserAdd} />\r\n          <Route exact path=\"/user/:id\" component={UserDetail} /> \r\n          <Route exact path=\"/user/:id/edit\" component={UserEdit} />\r\n\r\n\r\n          <Route exact path=\"/device\" component={DeviceList} />\r\n          <Route exact path=\"/device/:id\" component={DeviceDetail} />\r\n          <Route exact path=\"/device/add/\" component={DeviceAdd} />\r\n          <Route exact path=\"/device/:id/edit\" component={DeviceEdit} />\r\n          \r\n          {/* \r\n         \r\n          \r\n\r\n       \r\n          {/* \r\n          <Route exact path=\"/device/addMany/\" component={DeviceAddMany} />\r\n         \r\n          \r\n\r\n          <Route exact path=\"/missbike\" component={MissBike} />\r\n          <Route exact path=\"/missbikeVer2\" component={MissBikeVer2} />\r\n\r\n          <Route exact path=\"/bike\" component={BikeList} />\r\n          <Route exact path=\"/bike/:action/:id?\" component={BikeEdit} />\r\n          <Route exact path=\"/bike/add/\" component={BikeEdit} /> */}\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Component;\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport NavBar from \"./components/navbar/NavBar\";\r\nimport DashboardRoute from \"./route\";\r\n\r\ntype Props = {};\r\ntype States = {};\r\n\r\nclass Dashboard extends React.PureComponent<Props, States> {\r\n  constructor(props: any) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"\">\r\n        <Route component={NavBar} />\r\n        <Route component={DashboardRoute} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","/**\r\n * @flow\r\n */\r\n\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Route,\r\n  BrowserRouter as Router,\r\n  Redirect,\r\n  Switch,\r\n  withRouter\r\n} from \"react-router-dom\";\r\n\r\nimport SignIn from \"../../signin\";\r\nimport Dashboard from \"../../dashboard\";\r\nimport { type STATE_TYPE } from \"../../store/rootReducer\";\r\n\r\nclass RedirectToSignin extends React.PureComponent<{ location: Object }, {}> {\r\n  render() {\r\n    const { location } = this.props;\r\n    if (location.pathname !== \"/signin\") {\r\n      return <Redirect to=\"/signin\" />;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nconst RTSwithRouter = withRouter(RedirectToSignin);\r\n\r\nclass RootRouter extends React.PureComponent<{ isLogined: boolean }, {}> {\r\n  componentDidMount() {}\r\n\r\n  render() {\r\n    const { isLogined } = this.props;\r\n    return (\r\n      <Router>\r\n        <div>\r\n          <Route render={this.renderRedirectToSignin.bind(this)} />\r\n          <Switch>\r\n            <Route exact path=\"/signin\" component={SignIn} />\r\n            <Route path=\"/\" component={Dashboard} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n\r\n  renderRedirectToSignin() {\r\n    const { isLogined } = this.props;\r\n    if (!isLogined) {\r\n      return <RTSwithRouter />;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProp = (state: STATE_TYPE) => {\r\n  return {\r\n    isLogined: state.auth.isLogined\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProp)(RootRouter);\r\n","/**\r\n * @flow\r\n */\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport store from \"./bundles/store\";\r\nimport RootRouter from \"./bundles/common/routes\";\r\nimport \"./App.css\";\r\nimport WebLoading from \"./bundles/common/components/WebLoading\";\r\nimport { checkAuthSession } from \"./bundles/auth\";\r\nimport Axios from \"axios\";\r\n\r\ntype States = {\r\n  isLoading: boolean\r\n};\r\n\r\nclass App extends React.PureComponent<{}, States> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = { isLoading: true };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    document.title = \"SMART KEY\";\r\n    Axios.defaults.withCredentials = true;\r\n    const isLogined = await checkAuthSession();\r\n    this.setState({ isLoading: false });\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    if (isLoading) {\r\n      return <WebLoading />;\r\n    } else {\r\n      return (\r\n        <Provider store={store}>\r\n          <RootRouter />\r\n        </Provider>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (module.hot) {\n  module.hot.accept();\n}\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}